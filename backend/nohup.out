INFO:     Will watch for changes in these directories: ['/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [74032] using WatchFiles
2026-02-05 20:01:59 [info     ] Running in LOCAL_MODE - using SQLite at sqlite:////Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/data/aidocindexer.db
2026-02-05 20:02:01 [info     ] LLMGraphTransformer not available - using standard extraction
2026-02-05 20:02:03 [info     ] Service registry initialized
[2m2026-02-05T19:02:04.539216Z[0m [[33m[1mwarning  [0m] [1mDEBUG mode: Mock users enabled. Do not use in production![0m [[0m[1m[34mbackend.api.routes.auth[0m][0m [36maws_region[0m=[35mus-east-1[0m
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/api/routes/crawler.py:42: UserWarning: Field name "schema" in "CrawlWithExtractionRequest" shadows an attribute in parent "BaseModel"
  class CrawlWithExtractionRequest(BaseModel):
INFO:     Started server process [74036]
INFO:     Waiting for application startup.
2026-02-05 20:02:13,324 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:13,324 INFO sqlalchemy.engine.Engine SELECT 1
2026-02-05 20:02:13,324 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
2026-02-05 20:02:13,325 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:13,325 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:13,325 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("access_tiers")
2026-02-05 20:02:13,325 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,331 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("organizations")
2026-02-05 20:02:13,331 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,331 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("organization_members")
2026-02-05 20:02:13,331 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,331 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-02-05 20:02:13,332 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,332 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("documents")
2026-02-05 20:02:13,332 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,332 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chunks")
2026-02-05 20:02:13,332 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("scraped_content")
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_sessions")
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_messages")
2026-02-05 20:02:13,333 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_feedback")
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_log")
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("processing_queue")
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("upload_jobs")
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,334 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("system_settings")
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_providers")
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("database_connections")
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_operation_configs")
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_session_llm_overrides")
2026-02-05 20:02:13,335 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_usage_logs")
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("rate_limit_configs")
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user_cost_limits")
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("cost_alerts")
2026-02-05 20:02:13,336 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("provider_health_logs")
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("provider_health_cache")
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("response_cache")
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("cache_settings")
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("prompt_templates")
2026-02-05 20:02:13,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skills")
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skill_executions")
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("reports")
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("research_results")
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,338 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("mood_boards")
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_definitions")
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_prompt_versions")
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_trajectories")
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_execution_plans")
2026-02-05 20:02:13,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("prompt_optimization_jobs")
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dspy_training_examples")
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dspy_optimization_jobs")
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("execution_mode_preferences")
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user_preferences")
2026-02-05 20:02:13,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entities")
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entity_mentions")
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entity_relations")
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("kg_extraction_jobs")
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("ocr_metrics")
2026-02-05 20:02:13,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("folders")
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("folder_permissions")
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("generation_templates")
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflows")
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_nodes")
2026-02-05 20:02:13,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_edges")
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_executions")
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_node_executions")
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audio_overviews")
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bot_connections")
2026-02-05 20:02:13,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connector_instances")
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("synced_resources")
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("budgets")
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("virtual_api_keys")
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("generated_images")
2026-02-05 20:02:13,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watched_directories")
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("file_watcher_events")
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("file_watcher_config")
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("external_database_connections")
2026-02-05 20:02:13,345 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("database_query_history")
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("text_to_sql_examples")
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("analyzed_images")
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("link_groups")
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("saved_links")
2026-02-05 20:02:13,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,347 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("scraped_content_history")
2026-02-05 20:02:13,347 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:02:13,347 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:13,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:13,421 INFO sqlalchemy.engine.Engine SELECT agent_definitions.agent_type 
FROM agent_definitions
2026-02-05 20:02:13,421 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ()
2026-02-05 20:02:13,422 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:13,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:13,427 INFO sqlalchemy.engine.Engine SELECT access_tiers.name 
FROM access_tiers
2026-02-05 20:02:13,427 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2026-02-05 20:02:13,427 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:13,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:13,428 INFO sqlalchemy.engine.Engine SELECT access_tiers.name, access_tiers.level, access_tiers.description, access_tiers.color, access_tiers.id, access_tiers.created_at, access_tiers.updated_at 
FROM access_tiers 
WHERE access_tiers.name = ?
2026-02-05 20:02:13,428 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('admin',)
2026-02-05 20:02:13,430 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:02:13,430 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('admin@example.com',)
2026-02-05 20:02:13,430 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,550 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status != ? AND upload_jobs.file_hash IN (SELECT documents.file_hash 
FROM documents 
WHERE documents.processing_status = ?)
2026-02-05 20:02:14,550 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('COMPLETED', 'COMPLETED')
2026-02-05 20:02:14,555 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status IN (?, ?, ?, ?, ?) AND upload_jobs.updated_at < ?
2026-02-05 20:02:14,555 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('VALIDATING', 'EXTRACTING', 'CHUNKING', 'EMBEDDING', 'INDEXING', '2026-02-05 18:57:14.555196')
2026-02-05 20:02:14,556 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,564 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,564 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('processing.ray_enabled',)
2026-02-05 20:02:14,565 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine [cached since 0.001699s ago] ('processing.ray_address',)
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,566 INFO sqlalchemy.engine.Engine [cached since 0.002383s ago] ('processing.ray_num_cpus',)
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine [cached since 0.002973s ago] ('processing.ray_num_gpus',)
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,567 INFO sqlalchemy.engine.Engine [cached since 0.0036s ago] ('processing.ray_memory_limit_gb',)
2026-02-05 20:02:14,568 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:14,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:14,568 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:14,568 INFO sqlalchemy.engine.Engine [cached since 0.00414s ago] ('processing.ray_num_workers',)
2026-02-05 20:02:14,568 INFO sqlalchemy.engine.Engine COMMIT
SIGTERM handler is not set because current thread is not the main thread.
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/.venv/lib/python3.11/site-packages/ray/_private/worker.py:2062: FutureWarning: Tip: In future versions of Ray, Ray will no longer override accelerator visible devices env var if num_gpus=0 or num_gpus=None (default). To enable this behavior and turn off this error message, set RAY_ACCEL_ENV_VAR_OVERRIDE_ON_ZERO=0
  warnings.warn(
2026-02-05 20:02:20,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,224 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,225 INFO sqlalchemy.engine.Engine [cached since 5.661s ago] ('queue.celery_enabled',)
2026-02-05 20:02:20,226 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,228 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:02:20,228 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('QUEUED',)
2026-02-05 20:02:20,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,228 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine [cached since 5.665s ago] ('queue.celery_enabled',)
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine [cached since 5.665s ago] ('queue.redis_url',)
2026-02-05 20:02:20,229 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine [cached since 5.666s ago] ('queue.celery_enabled',)
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,230 INFO sqlalchemy.engine.Engine [cached since 5.666s ago] ('queue.redis_url',)
2026-02-05 20:02:20,231 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,234 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:20,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:20,236 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:02:20,236 INFO sqlalchemy.engine.Engine [cached since 5.672s ago] ('queue.max_workers',)
2026-02-05 20:02:20,237 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:22,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:22,383 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:02:22,383 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ()
2026-02-05 20:02:22,387 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:02:22,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:02:22,388 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:02:22,388 INFO sqlalchemy.engine.Engine [cached since 0.005607s ago] ()
2026-02-05 20:02:22,391 INFO sqlalchemy.engine.Engine COMMIT
[33mChecking connectivity to the model hosters, this may take a while. To bypass this check, set `DISABLE_MODEL_SOURCE_CHECK` to `True`.[0m
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/.venv/lib/python3.11/site-packages/paddle/utils/cpp_extension/extension_utils.py:718: UserWarning: No ccache found. Please be aware that recompiling all source files may be required. You can download and install ccache from: https://github.com/ccache/ccache/blob/master/doc/INSTALL.md
  warnings.warn(warning_message)
[32mCreating model: ('PP-LCNet_x1_0_textline_ori', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-LCNet_x1_0_textline_ori`.[0m
[32mCreating model: ('PP-OCRv5_server_det', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-OCRv5_server_det`.[0m
[32mCreating model: ('en_PP-OCRv5_mobile_rec', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/en_PP-OCRv5_mobile_rec`.[0m
[32mCreating model: ('PP-LCNet_x1_0_textline_ori', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-LCNet_x1_0_textline_ori`.[0m
[32mCreating model: ('PP-OCRv5_server_det', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-OCRv5_server_det`.[0m
[32mCreating model: ('latin_PP-OCRv5_mobile_rec', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/latin_PP-OCRv5_mobile_rec`.[0m
2026-02-05 20:02:43,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:02:43,258] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:02:43,259 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:02:43,259] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:02:43,259 INFO sqlalchemy.engine.Engine [cached since 20.88s ago] ()
[2026-02-05 20:02:43,259] [    INFO] base.py:1846 - [cached since 20.88s ago] ()
2026-02-05 20:02:43,263 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:02:43,263] [    INFO] base.py:2716 - COMMIT
INFO:     Application startup complete.
2026-02-05 20:02:44,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:02:44,566] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:02:44,567 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:02:44,567] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:02:44,567 INFO sqlalchemy.engine.Engine [cached since 24.34s ago] ('QUEUED',)
[2026-02-05 20:02:44,567] [    INFO] base.py:1846 - [cached since 24.34s ago] ('QUEUED',)
2026-02-05 20:02:44,567 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:02:44,567] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:00,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:00,307] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:00,313 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:03:00,313] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:03:00,313 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:03:00,313] [    INFO] base.py:1846 - [generated in 0.00031s] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:03:00,315 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:03:00,315] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:03:00,315 INFO sqlalchemy.engine.Engine [cached since 46.88s ago] ('admin@example.com',)
[2026-02-05 20:03:00,315] [    INFO] base.py:1846 - [cached since 46.88s ago] ('admin@example.com',)
2026-02-05 20:03:00,318 INFO sqlalchemy.engine.Engine SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
[2026-02-05 20:03:00,318] [    INFO] base.py:1846 - SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
2026-02-05 20:03:00,318 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:03:00,318] [    INFO] base.py:1846 - [generated in 0.00010s] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:03:00,321 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:00,321] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:00,321 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
[2026-02-05 20:03:00,321] [    INFO] base.py:1846 - [generated in 0.00020s] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
2026-02-05 20:03:00,323 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
[2026-02-05 20:03:00,323] [    INFO] base.py:1846 - SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
2026-02-05 20:03:00,324 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423', 'c6e0f286-9ae2-4e77-a663-0506b63b5027')
[2026-02-05 20:03:00,324] [    INFO] base.py:1846 - [generated in 0.00020s] ('4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423', 'c6e0f286-9ae2-4e77-a663-0506b63b5027')
2026-02-05 20:03:00,328 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:00,328] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49313 - "GET /api/v1/chat/sessions HTTP/1.1" 200 OK
2026-02-05 20:03:14,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:14,579] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:14,582 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:03:14,582] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:03:14,582 INFO sqlalchemy.engine.Engine [cached since 54.35s ago] ('QUEUED',)
[2026-02-05 20:03:14,582] [    INFO] base.py:1846 - [cached since 54.35s ago] ('QUEUED',)
2026-02-05 20:03:14,586 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:14,586] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49482 - "OPTIONS /api/v1/chat/commands/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:49482 - "GET /api/v1/chat/commands/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:49482 - "OPTIONS /api/v1/organizations/me/context HTTP/1.1" 200 OK
INFO:     127.0.0.1:49486 - "OPTIONS /api/v1/chat/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:49487 - "OPTIONS /api/v1/admin/llm/providers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49490 - "OPTIONS /api/v1/agent/mode HTTP/1.1" 200 OK
INFO:     127.0.0.1:49491 - "OPTIONS /api/v1/documents/collections/list HTTP/1.1" 200 OK
2026-02-05 20:03:34,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,477] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,478 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:03:34,478] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:03:34,478 INFO sqlalchemy.engine.Engine [cached since 34.17s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:03:34,478] [    INFO] base.py:1846 - [cached since 34.17s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:03:34,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,480] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,480 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:03:34,480] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:03:34,480 INFO sqlalchemy.engine.Engine [cached since 34.17s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:03:34,480] [    INFO] base.py:1846 - [cached since 34.17s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:03:34,568 INFO sqlalchemy.engine.Engine SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.id = ?
[2026-02-05 20:03:34,568] [    INFO] base.py:1846 - SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.id = ?
2026-02-05 20:03:34,568 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('a0000000-0000-0000-0000-000000000001',)
[2026-02-05 20:03:34,568] [    INFO] base.py:1846 - [generated in 0.00021s] ('a0000000-0000-0000-0000-000000000001',)
2026-02-05 20:03:34,569 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:03:34,569] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:03:34,569 INFO sqlalchemy.engine.Engine [cached since 81.14s ago] ('admin@example.com',)
[2026-02-05 20:03:34,569] [    INFO] base.py:1846 - [cached since 81.14s ago] ('admin@example.com',)
2026-02-05 20:03:34,570 INFO sqlalchemy.engine.Engine SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
[2026-02-05 20:03:34,570] [    INFO] base.py:1846 - SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
2026-02-05 20:03:34,570 INFO sqlalchemy.engine.Engine [cached since 34.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:03:34,570] [    INFO] base.py:1846 - [cached since 34.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:03:34,571 INFO sqlalchemy.engine.Engine SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.is_active = 1 ORDER BY organizations.name
[2026-02-05 20:03:34,571] [    INFO] base.py:1846 - SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.is_active = 1 ORDER BY organizations.name
2026-02-05 20:03:34,571 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
[2026-02-05 20:03:34,571] [    INFO] base.py:1846 - [generated in 0.00008s] ()
2026-02-05 20:03:34,572 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:34,572] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:34,573 INFO sqlalchemy.engine.Engine [cached since 34.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
[2026-02-05 20:03:34,573] [    INFO] base.py:1846 - [cached since 34.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
2026-02-05 20:03:34,573 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,573] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49486 - "GET /api/v1/organizations/me/context HTTP/1.1" 200 OK
2026-02-05 20:03:34,575 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
[2026-02-05 20:03:34,575] [    INFO] base.py:1846 - SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
2026-02-05 20:03:34,575 INFO sqlalchemy.engine.Engine [cached since 34.25s ago] ('4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423', 'c6e0f286-9ae2-4e77-a663-0506b63b5027')
[2026-02-05 20:03:34,575] [    INFO] base.py:1846 - [cached since 34.25s ago] ('4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423', 'c6e0f286-9ae2-4e77-a663-0506b63b5027')
2026-02-05 20:03:34,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,577] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,577 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:03:34,577] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:03:34,577 INFO sqlalchemy.engine.Engine [cached since 34.26s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:03:34,577] [    INFO] base.py:1846 - [cached since 34.26s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:03:34,578 INFO sqlalchemy.engine.Engine SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.id = ?
[2026-02-05 20:03:34,578] [    INFO] base.py:1846 - SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.id = ?
2026-02-05 20:03:34,578 INFO sqlalchemy.engine.Engine [cached since 0.009697s ago] ('a0000000-0000-0000-0000-000000000001',)
[2026-02-05 20:03:34,578] [    INFO] base.py:1846 - [cached since 0.009697s ago] ('a0000000-0000-0000-0000-000000000001',)
2026-02-05 20:03:34,578 INFO sqlalchemy.engine.Engine SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.is_active = 1 ORDER BY organizations.name
[2026-02-05 20:03:34,578] [    INFO] base.py:1846 - SELECT organizations.name, organizations.slug, organizations."plan", organizations.settings, organizations.max_users, organizations.max_storage_gb, organizations.is_active, organizations.id, organizations.created_at, organizations.updated_at 
FROM organizations 
WHERE organizations.is_active = 1 ORDER BY organizations.name
2026-02-05 20:03:34,578 INFO sqlalchemy.engine.Engine [cached since 0.007129s ago] ()
[2026-02-05 20:03:34,578] [    INFO] base.py:1846 - [cached since 0.007129s ago] ()
2026-02-05 20:03:34,579 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,579] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49486 - "GET /api/v1/organizations/me/context HTTP/1.1" 200 OK
2026-02-05 20:03:34,584 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,584] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:34,586 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,586] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,587 INFO sqlalchemy.engine.Engine SELECT execution_mode_preferences.user_id, execution_mode_preferences.default_mode, execution_mode_preferences.agent_mode_enabled, execution_mode_preferences.auto_detect_complexity, execution_mode_preferences.show_cost_estimation, execution_mode_preferences.require_approval_above_usd, execution_mode_preferences.general_chat_enabled, execution_mode_preferences.fallback_to_general, execution_mode_preferences.id, execution_mode_preferences.created_at, execution_mode_preferences.updated_at 
FROM execution_mode_preferences 
WHERE execution_mode_preferences.user_id = ?
[2026-02-05 20:03:34,587] [    INFO] base.py:1846 - SELECT execution_mode_preferences.user_id, execution_mode_preferences.default_mode, execution_mode_preferences.agent_mode_enabled, execution_mode_preferences.auto_detect_complexity, execution_mode_preferences.show_cost_estimation, execution_mode_preferences.require_approval_above_usd, execution_mode_preferences.general_chat_enabled, execution_mode_preferences.fallback_to_general, execution_mode_preferences.id, execution_mode_preferences.created_at, execution_mode_preferences.updated_at 
FROM execution_mode_preferences 
WHERE execution_mode_preferences.user_id = ?
2026-02-05 20:03:34,587 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:03:34,587] [    INFO] base.py:1846 - [generated in 0.00010s] ('00000000-0000-0000-0000-000000000001',)
INFO:     127.0.0.1:49490 - "GET /api/v1/chat/sessions HTTP/1.1" 200 OK
2026-02-05 20:03:34,587 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,587] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,588 INFO sqlalchemy.engine.Engine SELECT llm_providers.name, llm_providers.provider_type, llm_providers.api_key_encrypted, llm_providers.api_base_url, llm_providers.organization_id, llm_providers.is_active, llm_providers.is_default, llm_providers.default_chat_model, llm_providers.default_embedding_model, llm_providers.settings, llm_providers.id, llm_providers.created_at, llm_providers.updated_at 
FROM llm_providers ORDER BY llm_providers.created_at DESC
[2026-02-05 20:03:34,588] [    INFO] base.py:1846 - SELECT llm_providers.name, llm_providers.provider_type, llm_providers.api_key_encrypted, llm_providers.api_base_url, llm_providers.organization_id, llm_providers.is_active, llm_providers.is_default, llm_providers.default_chat_model, llm_providers.default_embedding_model, llm_providers.settings, llm_providers.id, llm_providers.created_at, llm_providers.updated_at 
FROM llm_providers ORDER BY llm_providers.created_at DESC
2026-02-05 20:03:34,589 INFO sqlalchemy.engine.Engine [generated in 0.00152s] ()
[2026-02-05 20:03:34,589] [    INFO] base.py:1846 - [generated in 0.00152s] ()
2026-02-05 20:03:34,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:34,589] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:34,591 INFO sqlalchemy.engine.Engine SELECT documents.tags 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND documents.tags IS NOT NULL AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
[2026-02-05 20:03:34,591] [    INFO] base.py:1846 - SELECT documents.tags 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND documents.tags IS NOT NULL AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
2026-02-05 20:03:34,591 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (100, 'FAILED', 'Deleted by user')
[2026-02-05 20:03:34,591] [    INFO] base.py:1846 - [generated in 0.00011s] (100, 'FAILED', 'Deleted by user')
2026-02-05 20:03:34,624 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,624] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49487 - "GET /api/v1/admin/llm/providers HTTP/1.1" 200 OK
2026-02-05 20:03:34,625 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,625] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49491 - "GET /api/v1/agent/mode HTTP/1.1" 200 OK
2026-02-05 20:03:34,629 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (documents.tags IS NULL OR documents.tags = ?) AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
[2026-02-05 20:03:34,629] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (documents.tags IS NULL OR documents.tags = ?) AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
2026-02-05 20:03:34,629 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (100, '[]', 'FAILED', 'Deleted by user')
[2026-02-05 20:03:34,629] [    INFO] base.py:1846 - [generated in 0.00018s] (100, '[]', 'FAILED', 'Deleted by user')
2026-02-05 20:03:34,630 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
[2026-02-05 20:03:34,630] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND NOT (documents.processing_status = ? AND documents.processing_error = ?)
2026-02-05 20:03:34,630 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (100, 'FAILED', 'Deleted by user')
[2026-02-05 20:03:34,630] [    INFO] base.py:1846 - [generated in 0.00008s] (100, 'FAILED', 'Deleted by user')
2026-02-05 20:03:34,631 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:34,631] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49493 - "GET /api/v1/documents/collections/list HTTP/1.1" 200 OK
[2026-02-05 20:03:39,883] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:03:39.883089Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
[2026-02-05 20:03:39,883] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:03:39.883364Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
2026-02-05 20:03:39,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,883] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,884 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:39,884] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:39,884 INFO sqlalchemy.engine.Engine [cached since 85.32s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:03:39,884] [    INFO] base.py:1846 - [cached since 85.32s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:03:39,884 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,884] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:39,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,885] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,885 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:39,885] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:39,885 INFO sqlalchemy.engine.Engine [cached since 85.32s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:03:39,885] [    INFO] base.py:1846 - [cached since 85.32s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:03:39,885 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,885] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:39,886] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:03:39.886132Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:03:39,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,886] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,887 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:03:39,887] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:03:39,887 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('chat',)
[2026-02-05 20:03:39,887] [    INFO] base.py:1846 - [generated in 0.00015s] ('chat',)
2026-02-05 20:03:39,888 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,888] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:39,888 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,888] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,888 INFO sqlalchemy.engine.Engine SELECT llm_providers.name, llm_providers.provider_type, llm_providers.api_key_encrypted, llm_providers.api_base_url, llm_providers.organization_id, llm_providers.is_active, llm_providers.is_default, llm_providers.default_chat_model, llm_providers.default_embedding_model, llm_providers.settings, llm_providers.id, llm_providers.created_at, llm_providers.updated_at 
FROM llm_providers 
WHERE llm_providers.is_default = 1 AND llm_providers.is_active = 1
[2026-02-05 20:03:39,888] [    INFO] base.py:1846 - SELECT llm_providers.name, llm_providers.provider_type, llm_providers.api_key_encrypted, llm_providers.api_base_url, llm_providers.organization_id, llm_providers.is_active, llm_providers.is_default, llm_providers.default_chat_model, llm_providers.default_embedding_model, llm_providers.settings, llm_providers.id, llm_providers.created_at, llm_providers.updated_at 
FROM llm_providers 
WHERE llm_providers.is_default = 1 AND llm_providers.is_active = 1
2026-02-05 20:03:39,888 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
[2026-02-05 20:03:39,888] [    INFO] base.py:1846 - [generated in 0.00007s] ()
2026-02-05 20:03:39,889 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,889] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:39,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,891] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,892 INFO sqlalchemy.engine.Engine SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
[2026-02-05 20:03:39,892] [    INFO] base.py:1846 - SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
2026-02-05 20:03:39,892 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
[2026-02-05 20:03:39,892] [    INFO] base.py:1846 - [generated in 0.00009s] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
2026-02-05 20:03:39,892 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,892] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:39,893 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:39,893] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:39,893 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:39,893] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:39,893 INFO sqlalchemy.engine.Engine [cached since 85.33s ago] ('llm.model_context_overrides',)
[2026-02-05 20:03:39,893] [    INFO] base.py:1846 - [cached since 85.33s ago] ('llm.model_context_overrides',)
2026-02-05 20:03:39,893 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:39,893] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:44,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:44,610] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:44,611 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:03:44,611] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:03:44,611 INFO sqlalchemy.engine.Engine [cached since 84.38s ago] ('QUEUED',)
[2026-02-05 20:03:44,611] [    INFO] base.py:1846 - [cached since 84.38s ago] ('QUEUED',)
2026-02-05 20:03:44,625 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:44,625] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:46,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:46,844] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:46,844 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:03:46,844] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:03:46,844 INFO sqlalchemy.engine.Engine [cached since 84.46s ago] ()
[2026-02-05 20:03:46,844] [    INFO] base.py:1846 - [cached since 84.46s ago] ()
2026-02-05 20:03:46,849 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:46,849] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:46,850 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:46,850] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:46,850 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:03:46,850] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:03:46,850 INFO sqlalchemy.engine.Engine [cached since 84.47s ago] ()
[2026-02-05 20:03:46,850] [    INFO] base.py:1846 - [cached since 84.47s ago] ()
2026-02-05 20:03:46,854 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:46,854] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:47,626] [ WARNING] adaptive_router.py:137 - [2m2026-02-05T19:03:47.626263Z[0m [[33m[1mwarning  [0m] [1mQuery classification failed   [0m [[0m[1m[34mbackend.services.adaptive_router[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object QueryClassification can't be used in 'await' expression"[0m
2026-02-05 20:03:47,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,654] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,656 INFO sqlalchemy.engine.Engine SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
[2026-02-05 20:03:47,656] [    INFO] base.py:1846 - SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
2026-02-05 20:03:47,656 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:03:47,656] [    INFO] base.py:1846 - [generated in 0.00018s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:03:47,657 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,657] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,657] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,657 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:03:47,657] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:03:47,657 INFO sqlalchemy.engine.Engine [cached since 7.77s ago] ('rag',)
[2026-02-05 20:03:47,657] [    INFO] base.py:1846 - [cached since 7.77s ago] ('rag',)
2026-02-05 20:03:47,658 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,658] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,659] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,659 INFO sqlalchemy.engine.Engine SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
[2026-02-05 20:03:47,659] [    INFO] base.py:1846 - SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
2026-02-05 20:03:47,659 INFO sqlalchemy.engine.Engine [cached since 7.767s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
[2026-02-05 20:03:47,659] [    INFO] base.py:1846 - [cached since 7.767s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
2026-02-05 20:03:47,660 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,660] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,660] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,661 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:47,661] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:47,661 INFO sqlalchemy.engine.Engine [cached since 93.1s ago] ('llm.model_context_overrides',)
[2026-02-05 20:03:47,661] [    INFO] base.py:1846 - [cached since 93.1s ago] ('llm.model_context_overrides',)
2026-02-05 20:03:47,661 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,661] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,662] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,662 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:47,662] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:47,662 INFO sqlalchemy.engine.Engine [cached since 93.1s ago] ('conversation.db_rehydration_enabled',)
[2026-02-05 20:03:47,662] [    INFO] base.py:1846 - [cached since 93.1s ago] ('conversation.db_rehydration_enabled',)
2026-02-05 20:03:47,662 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,662] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,663] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,664 INFO sqlalchemy.engine.Engine SELECT chat_messages.organization_id, chat_messages.role, chat_messages.content, chat_messages.source_document_ids, chat_messages.source_chunks, chat_messages.is_helpful, chat_messages.feedback, chat_messages.model_used, chat_messages.tokens_used, chat_messages.latency_ms, chat_messages.confidence_score, chat_messages.confidence_level, chat_messages.created_at, chat_messages.session_id, chat_messages.id 
FROM chat_messages 
WHERE chat_messages.session_id = ? ORDER BY chat_messages.created_at ASC
[2026-02-05 20:03:47,664] [    INFO] base.py:1846 - SELECT chat_messages.organization_id, chat_messages.role, chat_messages.content, chat_messages.source_document_ids, chat_messages.source_chunks, chat_messages.is_helpful, chat_messages.feedback, chat_messages.model_used, chat_messages.tokens_used, chat_messages.latency_ms, chat_messages.confidence_score, chat_messages.confidence_level, chat_messages.created_at, chat_messages.session_id, chat_messages.id 
FROM chat_messages 
WHERE chat_messages.session_id = ? ORDER BY chat_messages.created_at ASC
2026-02-05 20:03:47,664 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:03:47,664] [    INFO] base.py:1846 - [generated in 0.00008s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:03:47,664 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,664] [    INFO] base.py:2716 - COMMIT
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/services/session_memory.py:291: LangChainDeprecationWarning: Please see the migration guide at: https://python.langchain.com/docs/versions/migrating_memory/
  memory = ConversationBufferWindowMemory(
2026-02-05 20:03:47,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,673] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,673 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:47,673] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:47,673 INFO sqlalchemy.engine.Engine [cached since 93.11s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:03:47,673] [    INFO] base.py:1846 - [cached since 93.11s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:03:47,673 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,673] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:47,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:47,674] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:47,674 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:47,674] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:47,674 INFO sqlalchemy.engine.Engine [cached since 93.11s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:03:47,674] [    INFO] base.py:1846 - [cached since 93.11s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:03:47,674 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:47,674] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:47,675] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:03:47.674999Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:03:49,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:49,759] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:49,760 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:03:49,760] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:03:49,761 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ()
[2026-02-05 20:03:49,761] [    INFO] base.py:1846 - [generated in 0.00040s] ()
2026-02-05 20:03:49,762 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:49,762] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:50,159] [   ERROR] raptor_retriever.py:229 - [2m2026-02-05T19:03:50.159788Z[0m [[31m[1merror    [0m] [1mFailed to initialize RAPTOR builder[0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"'ChromaVectorStore' object has no attribute 'summary_provider'"[0m
2026-02-05 20:03:50,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,201] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,202 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:03:50,202] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:03:50,202 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', '7434a3e0-616d-4de2-b1c9-6de7b9f0265b', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'bf546a41-8f72-40b8-a2a1-38d2ba2d9dcb', 'FAILED', 'Deleted by user')
[2026-02-05 20:03:50,202] [    INFO] base.py:1846 - [generated in 0.00018s] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', '7434a3e0-616d-4de2-b1c9-6de7b9f0265b', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'bf546a41-8f72-40b8-a2a1-38d2ba2d9dcb', 'FAILED', 'Deleted by user')
[2026-02-05 20:03:50,385] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:03:50.385150Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:50,385 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,385] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,386 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:03:50,386] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:03:50,386 INFO sqlalchemy.engine.Engine [cached since 0.6253s ago] ()
[2026-02-05 20:03:50,386] [    INFO] base.py:1846 - [cached since 0.6253s ago] ()
2026-02-05 20:03:50,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,386] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,386 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:50,386] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:50,386 INFO sqlalchemy.engine.Engine [cached since 95.82s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:03:50,386] [    INFO] base.py:1846 - [cached since 95.82s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:03:50,387 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,387] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,389 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,389] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,389 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:03:50,389] [    INFO] base.py:1846 - [generated in 0.00011s] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:03:50,390 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,390] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,390 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,390] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,390 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,390] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,391] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,391 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:50,391] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:50,391 INFO sqlalchemy.engine.Engine [cached since 95.83s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:03:50,391] [    INFO] base.py:1846 - [cached since 95.83s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:03:50,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,396] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,396 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:03:50,396] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:03:50,396 INFO sqlalchemy.engine.Engine [cached since 0.1938s ago] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'FAILED', 'Deleted by user')
[2026-02-05 20:03:50,396] [    INFO] base.py:1846 - [cached since 0.1938s ago] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'FAILED', 'Deleted by user')
[2026-02-05 20:03:50,500] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:03:50.500312Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:50,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,500] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,500 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:50,500] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:50,500 INFO sqlalchemy.engine.Engine [cached since 95.94s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:03:50,500] [    INFO] base.py:1846 - [cached since 95.94s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:03:50,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,501] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,501 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,501] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,501 INFO sqlalchemy.engine.Engine [cached since 0.1118s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:03:50,501] [    INFO] base.py:1846 - [cached since 0.1118s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:03:50,502 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,502] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,502 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:03:50,502] [    INFO] base.py:1846 - [generated in 0.00019s] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:03:50,502 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,502] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:50,503] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:03:50.503347Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:03:50,508 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,508] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,509 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,509] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,509 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,509] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,509 INFO sqlalchemy.engine.Engine [cached since 0.007673s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:03:50,509] [    INFO] base.py:1846 - [cached since 0.007673s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:03:50,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:50,510] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:50,510 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:50,510] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:50,510 INFO sqlalchemy.engine.Engine [cached since 95.95s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:03:50,510] [    INFO] base.py:1846 - [cached since 95.95s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:03:50,511 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,511] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:50,511] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:03:50.511403Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:03:50,514 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,514] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,514 INFO sqlalchemy.engine.Engine [cached since 0.1253s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:03:50,514] [    INFO] base.py:1846 - [cached since 0.1253s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:03:50,515 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,515] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,515 INFO sqlalchemy.engine.Engine [cached since 0.1259s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:03:50,515] [    INFO] base.py:1846 - [cached since 0.1259s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:03:50,515 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:50,515] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:50,516 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:50,516] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:50,516 INFO sqlalchemy.engine.Engine [cached since 0.127s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:03:50,516] [    INFO] base.py:1846 - [cached since 0.127s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:03:50,516] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:03:50.516748Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:51,295 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:51,295] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:51,295 INFO sqlalchemy.engine.Engine [cached since 0.7937s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:03:51,295] [    INFO] base.py:1846 - [cached since 0.7937s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:03:51,296 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:03:51,296] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:03:51,296 INFO sqlalchemy.engine.Engine [cached since 0.9076s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:03:51,296] [    INFO] base.py:1846 - [cached since 0.9076s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:03:51,297 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:51,297] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:51,297] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:03:51.297914Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:54,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:54,123] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:54,124 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:03:54,124] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:03:54,125 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ('%Planetary Boundaries%', 10, 0)
[2026-02-05 20:03:54,125] [    INFO] base.py:1846 - [generated in 0.00027s] ('%Planetary Boundaries%', 10, 0)
2026-02-05 20:03:54,235 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:54,235] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:54,235 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:03:54,235] [    INFO] base.py:1846 - [generated in 0.00017s] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:03:54,236 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:54,236] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:54,236 INFO sqlalchemy.engine.Engine [cached since 0.001301s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:03:54,236] [    INFO] base.py:1846 - [cached since 0.001301s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:03:54,237 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:54,237] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:54,237 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:54,237] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:54,237 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:03:54,237] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:03:54,237 INFO sqlalchemy.engine.Engine [cached since 0.1132s ago] ('%Seattle%', 10, 0)
[2026-02-05 20:03:54,237] [    INFO] base.py:1846 - [cached since 0.1132s ago] ('%Seattle%', 10, 0)
2026-02-05 20:03:54,243 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:54,243] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:54,244] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:03:54.243960Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:54,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:54,386] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:54,387 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:54,387] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:54,387 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', '%what are planetary boundaries planetary boundaries what%', '%what are planetary boundaries planetary boundaries what%', 'what are planetary boundaries planetary boundaries what', 1, 'what are planetary boundaries planetary boundaries what', 2, 'what are planetary boundaries planetary boundaries what', 3, 4, 20, 0)
[2026-02-05 20:03:54,387] [    INFO] base.py:1846 - [generated in 0.00010s] ('what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', '%what are planetary boundaries planetary boundaries what%', '%what are planetary boundaries planetary boundaries what%', 'what are planetary boundaries planetary boundaries what', 1, 'what are planetary boundaries planetary boundaries what', 2, 'what are planetary boundaries planetary boundaries what', 3, 4, 20, 0)
2026-02-05 20:03:54,716 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:03:54,716] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:03:54,716 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ()
[2026-02-05 20:03:54,716] [    INFO] base.py:1846 - [generated in 0.00018s] ()
2026-02-05 20:03:55,073 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:55,073] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:55,074 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:55,074] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:55,074 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:55,074] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:55,074 INFO sqlalchemy.engine.Engine [cached since 100.5s ago] ('rag.graph_max_hops',)
[2026-02-05 20:03:55,074] [    INFO] base.py:1846 - [cached since 100.5s ago] ('rag.graph_max_hops',)
2026-02-05 20:03:55,075 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:55,075] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:55,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:55,076] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:55,076 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:55,076] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:55,076 INFO sqlalchemy.engine.Engine [cached since 0.689s ago] ('what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', '%what are planetary boundaries planetary boundaries what%', '%what are planetary boundaries planetary boundaries what%', 'what are planetary boundaries planetary boundaries what', 1, 'what are planetary boundaries planetary boundaries what', 2, 'what are planetary boundaries planetary boundaries what', 3, 4, 5, 0)
[2026-02-05 20:03:55,076] [    INFO] base.py:1846 - [cached since 0.689s ago] ('what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', 'what are planetary boundaries planetary boundaries what', '%what are planetary boundaries planetary boundaries what%', '%what are planetary boundaries planetary boundaries what%', 'what are planetary boundaries planetary boundaries what', 1, 'what are planetary boundaries planetary boundaries what', 2, 'what are planetary boundaries planetary boundaries what', 3, 4, 5, 0)
2026-02-05 20:03:55,155 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:03:55,155] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:03:55,155 INFO sqlalchemy.engine.Engine [cached since 0.4392s ago] ()
[2026-02-05 20:03:55,155] [    INFO] base.py:1846 - [cached since 0.4392s ago] ()
2026-02-05 20:03:55,493 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:55,493] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:56,452 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:56,452] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:56,452 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:03:56,452] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:03:56,453 INFO sqlalchemy.engine.Engine [cached since 2.328s ago] ('%planetary boundaries%', 10, 0)
[2026-02-05 20:03:56,453] [    INFO] base.py:1846 - [cached since 2.328s ago] ('%planetary boundaries%', 10, 0)
2026-02-05 20:03:56,458 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:56,458] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:56,458 INFO sqlalchemy.engine.Engine [cached since 2.223s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:03:56,458] [    INFO] base.py:1846 - [cached since 2.223s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:03:56,460 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:03:56,460] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:03:56,460 INFO sqlalchemy.engine.Engine [cached since 2.225s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:03:56,460] [    INFO] base.py:1846 - [cached since 2.225s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:03:56,461 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:56,461] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:56,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:56,461] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:56,461 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:03:56,461] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:03:56,461 INFO sqlalchemy.engine.Engine [cached since 2.337s ago] ('%what%', 10, 0)
[2026-02-05 20:03:56,461] [    INFO] base.py:1846 - [cached since 2.337s ago] ('%what%', 10, 0)
2026-02-05 20:03:56,466 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:56,466] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:56,466] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:03:56.466875Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:03:56,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:56,629] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:56,629 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:56,629] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:56,630 INFO sqlalchemy.engine.Engine [cached since 2.243s ago] ('what are planetary boundaries', 'what are planetary boundaries', 'what are planetary boundaries', '%what are planetary boundaries%', '%what are planetary boundaries%', 'what are planetary boundaries', 1, 'what are planetary boundaries', 2, 'what are planetary boundaries', 3, 4, 20, 0)
[2026-02-05 20:03:56,630] [    INFO] base.py:1846 - [cached since 2.243s ago] ('what are planetary boundaries', 'what are planetary boundaries', 'what are planetary boundaries', '%what are planetary boundaries%', '%what are planetary boundaries%', 'what are planetary boundaries', 1, 'what are planetary boundaries', 2, 'what are planetary boundaries', 3, 4, 20, 0)
2026-02-05 20:03:56,723 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:03:56,723] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:03:56,723 INFO sqlalchemy.engine.Engine [cached since 2.007s ago] ()
[2026-02-05 20:03:56,723] [    INFO] base.py:1846 - [cached since 2.007s ago] ()
2026-02-05 20:03:57,054 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,054] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,055] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,055 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:57,055] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:57,055 INFO sqlalchemy.engine.Engine [cached since 102.5s ago] ('rag.graph_max_hops',)
[2026-02-05 20:03:57,055] [    INFO] base.py:1846 - [cached since 102.5s ago] ('rag.graph_max_hops',)
2026-02-05 20:03:57,056 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,056] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,056 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,056] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,056 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:03:57,056] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:03:57,056 INFO sqlalchemy.engine.Engine [cached since 2.67s ago] ('what are planetary boundaries', 'what are planetary boundaries', 'what are planetary boundaries', '%what are planetary boundaries%', '%what are planetary boundaries%', 'what are planetary boundaries', 1, 'what are planetary boundaries', 2, 'what are planetary boundaries', 3, 4, 5, 0)
[2026-02-05 20:03:57,056] [    INFO] base.py:1846 - [cached since 2.67s ago] ('what are planetary boundaries', 'what are planetary boundaries', 'what are planetary boundaries', '%what are planetary boundaries%', '%what are planetary boundaries%', 'what are planetary boundaries', 1, 'what are planetary boundaries', 2, 'what are planetary boundaries', 3, 4, 5, 0)
2026-02-05 20:03:57,137 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:03:57,137] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:03:57,137 INFO sqlalchemy.engine.Engine [cached since 2.421s ago] ()
[2026-02-05 20:03:57,137] [    INFO] base.py:1846 - [cached since 2.421s ago] ()
2026-02-05 20:03:57,464 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,464] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,494] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,494 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:57,494] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:57,494 INFO sqlalchemy.engine.Engine [cached since 102.9s ago] ('rag.context_sufficiency_threshold',)
[2026-02-05 20:03:57,494] [    INFO] base.py:1846 - [cached since 102.9s ago] ('rag.context_sufficiency_threshold',)
2026-02-05 20:03:57,495 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,495] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,496] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:57,496] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine [cached since 102.9s ago] ('rag.abstention_threshold',)
[2026-02-05 20:03:57,496] [    INFO] base.py:1846 - [cached since 102.9s ago] ('rag.abstention_threshold',)
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,496] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,496] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:57,496] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:57,496 INFO sqlalchemy.engine.Engine [cached since 102.9s ago] ('rag.enable_abstention',)
[2026-02-05 20:03:57,496] [    INFO] base.py:1846 - [cached since 102.9s ago] ('rag.enable_abstention',)
2026-02-05 20:03:57,497 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,497] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:03:57,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:03:57,497] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:03:57,497 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:03:57,497] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:03:57,497 INFO sqlalchemy.engine.Engine [cached since 102.9s ago] ('rag.conflict_detection_enabled',)
[2026-02-05 20:03:57,497] [    INFO] base.py:1846 - [cached since 102.9s ago] ('rag.conflict_detection_enabled',)
2026-02-05 20:03:57,497 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:03:57,497] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:03:57,497] [ WARNING] context_sufficiency.py:302 - [2m2026-02-05T19:03:57.497931Z[0m [[33m[1mwarning  [0m] [1mSemantic coverage calculation failed, using keyword only[0m [[0m[1m[34mbackend.services.context_sufficiency[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"'RayEmbeddingService' object has no attribute 'embed_query'"[0m
[2026-02-05 20:03:57,503] [   ERROR] generative_cache.py:472 - [2m2026-02-05T19:03:57.503433Z[0m [[31m[1merror    [0m] [1mFailed to initialize GenerativeCache[0m [[0m[1m[34mbackend.services.generative_cache[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
[2026-02-05 20:03:57,503] [   ERROR] generative_cache.py:472 - [2m2026-02-05T19:03:57.503538Z[0m [[31m[1merror    [0m] [1mFailed to initialize GenerativeCache[0m [[0m[1m[34mbackend.services.generative_cache[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
[2026-02-05 20:04:05,554] [ WARNING] rag.py:3033 - [2m2026-02-05T19:04:05.554189Z[0m [[33m[1mwarning  [0m] [1mFailed to cache response      [0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"name 'collection_name' is not defined"[0m
2026-02-05 20:04:05,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:05,560] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:05,562 INFO sqlalchemy.engine.Engine INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
[2026-02-05 20:04:05,562] [    INFO] base.py:1846 - INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
2026-02-05 20:04:05,562 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 1912, 60, 1972, 0.0, 0.0, 0.0, 18710, 1, None, '043138d2-22ab-4e28-bf61-0d5f1b9a1bc1')
[2026-02-05 20:04:05,562] [    INFO] base.py:1846 - [generated in 0.00024s] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 1912, 60, 1972, 0.0, 0.0, 0.0, 18710, 1, None, '043138d2-22ab-4e28-bf61-0d5f1b9a1bc1')
2026-02-05 20:04:05,566 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:05,566] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:11,605] [ WARNING] self_rag.py:536 - [2m2026-02-05T19:04:11.605377Z[0m [[33m[1mwarning  [0m] [1mLLM claim verification failed [0m [[0m[1m[34mbackend.services.self_rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mclaim[0m=[35m'If you pass over, or transgress these boundaries, '[0m [36merror[0m=[35m'Expecting value: line 5 column 9 (char 91)'[0m
2026-02-05 20:04:14,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:14,628] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:14,628 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:04:14,628] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:04:14,628 INFO sqlalchemy.engine.Engine [cached since 114.4s ago] ('QUEUED',)
[2026-02-05 20:04:14,628] [    INFO] base.py:1846 - [cached since 114.4s ago] ('QUEUED',)
2026-02-05 20:04:14,630 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:14,630] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:16,532] [ WARNING] self_rag.py:536 - [2m2026-02-05T19:04:16.532919Z[0m [[33m[1mwarning  [0m] [1mLLM claim verification failed [0m [[0m[1m[34mbackend.services.self_rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mclaim[0m=[35m'Planetary Boundaries refer to the thresholds that '[0m [36merror[0m=[35m'Expecting value: line 5 column 9 (char 91)'[0m
2026-02-05 20:04:16,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,534] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,534 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:16,534] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:16,534 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,534] [    INFO] base.py:1846 - [generated in 0.00010s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,536 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:04:16,536] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:04:16,536 INFO sqlalchemy.engine.Engine [cached since 76.22s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:04:16,536] [    INFO] base.py:1846 - [cached since 76.22s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:04:16,536 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:04:16,536] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:04:16,536 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] ('admin@example.com',)
[2026-02-05 20:04:16,536] [    INFO] base.py:1846 - [cached since 123.1s ago] ('admin@example.com',)
2026-02-05 20:04:16,537 INFO sqlalchemy.engine.Engine INSERT INTO chat_sessions (organization_id, title, is_active, user_id, id) VALUES (?, ?, ?, ?, ?) RETURNING created_at, updated_at
[2026-02-05 20:04:16,537] [    INFO] base.py:1846 - INSERT INTO chat_sessions (organization_id, title, is_active, user_id, id) VALUES (?, ?, ?, ?, ?) RETURNING created_at, updated_at
2026-02-05 20:04:16,538 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (None, 'New Conversation', 1, '8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 'd1cababb-480a-4b77-8099-fc893eba6364')
[2026-02-05 20:04:16,538] [    INFO] base.py:1846 - [generated in 0.00008s] (None, 'New Conversation', 1, '8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 'd1cababb-480a-4b77-8099-fc893eba6364')
2026-02-05 20:04:16,538 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,538] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:16,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,541] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,541 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:16,541] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:16,541 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,541] [    INFO] base.py:1846 - [generated in 0.00007s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,542 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:16,542] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:16,542 INFO sqlalchemy.engine.Engine [cached since 0.0079s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,542] [    INFO] base.py:1846 - [cached since 0.0079s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,543 INFO sqlalchemy.engine.Engine UPDATE chat_sessions SET title=?, updated_at=CURRENT_TIMESTAMP WHERE chat_sessions.id = ?
[2026-02-05 20:04:16,543] [    INFO] base.py:1846 - UPDATE chat_sessions SET title=?, updated_at=CURRENT_TIMESTAMP WHERE chat_sessions.id = ?
2026-02-05 20:04:16,543 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('what are planetary boundaries', 'd1cababb-480a-4b77-8099-fc893eba6364')
[2026-02-05 20:04:16,543] [    INFO] base.py:1846 - [generated in 0.00008s] ('what are planetary boundaries', 'd1cababb-480a-4b77-8099-fc893eba6364')
2026-02-05 20:04:16,546 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
[2026-02-05 20:04:16,546] [    INFO] base.py:1844 - INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
2026-02-05 20:04:16,546 INFO sqlalchemy.engine.Engine [generated in 0.00017s (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'what are planetary boundaries', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', '79493481-7b11-47e6-93ce-7ffbd6746c87', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "852d5660-a639-4090-a1fc-6de ... (8566 characters truncated) ... is a strong possibility of severe,\\nirreversible damage to key planetary functions that support life. In this zone, immediate", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8181470073759556, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', 'f3af971d-73cc-4daf-b28b-c9f7bf45eddd')
[2026-02-05 20:04:16,546] [    INFO] base.py:1844 - [generated in 0.00017s (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'what are planetary boundaries', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', '79493481-7b11-47e6-93ce-7ffbd6746c87', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "852d5660-a639-4090-a1fc-6de ... (8566 characters truncated) ... is a strong possibility of severe,\\nirreversible damage to key planetary functions that support life. In this zone, immediate", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8181470073759556, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', 'f3af971d-73cc-4daf-b28b-c9f7bf45eddd')
2026-02-05 20:04:16,547 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,547] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:16,554] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:04:16.554122Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
INFO:     127.0.0.1:49520 - "POST /api/v1/chat/completions HTTP/1.1" 200 OK
2026-02-05 20:04:16,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,569] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,569 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:04:16,569] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:04:16,569 INFO sqlalchemy.engine.Engine [cached since 76.26s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:04:16,569] [    INFO] base.py:1846 - [cached since 76.26s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:04:16,570 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:04:16,570] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:04:16,570 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] ('admin@example.com',)
[2026-02-05 20:04:16,570] [    INFO] base.py:1846 - [cached since 123.1s ago] ('admin@example.com',)
2026-02-05 20:04:16,571 INFO sqlalchemy.engine.Engine SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
[2026-02-05 20:04:16,571] [    INFO] base.py:1846 - SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
2026-02-05 20:04:16,571 INFO sqlalchemy.engine.Engine [cached since 76.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:04:16,571] [    INFO] base.py:1846 - [cached since 76.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:04:16,572 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:16,572] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:16,572 INFO sqlalchemy.engine.Engine [cached since 76.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
[2026-02-05 20:04:16,572] [    INFO] base.py:1846 - [cached since 76.25s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
2026-02-05 20:04:16,573 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
[2026-02-05 20:04:16,573] [    INFO] base.py:1846 - SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
2026-02-05 20:04:16,573 INFO sqlalchemy.engine.Engine [cached since 76.25s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
[2026-02-05 20:04:16,573] [    INFO] base.py:1846 - [cached since 76.25s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
2026-02-05 20:04:16,578 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,578] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49520 - "GET /api/v1/chat/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:49520 - "OPTIONS /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49860 - "OPTIONS /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364/llm HTTP/1.1" 200 OK
INFO:     127.0.0.1:49861 - "OPTIONS /api/v1/agent/mode?session_id=d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
2026-02-05 20:04:16,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,646] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,647 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:16,647] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:16,647 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,647] [    INFO] base.py:1846 - [generated in 0.00008s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,649] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,649 INFO sqlalchemy.engine.Engine SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
[2026-02-05 20:04:16,649] [    INFO] base.py:1846 - SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
2026-02-05 20:04:16,649 INFO sqlalchemy.engine.Engine [cached since 28.99s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,649] [    INFO] base.py:1846 - [cached since 28.99s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,651] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,651 INFO sqlalchemy.engine.Engine SELECT execution_mode_preferences.user_id, execution_mode_preferences.default_mode, execution_mode_preferences.agent_mode_enabled, execution_mode_preferences.auto_detect_complexity, execution_mode_preferences.show_cost_estimation, execution_mode_preferences.require_approval_above_usd, execution_mode_preferences.general_chat_enabled, execution_mode_preferences.fallback_to_general, execution_mode_preferences.id, execution_mode_preferences.created_at, execution_mode_preferences.updated_at 
FROM execution_mode_preferences 
WHERE execution_mode_preferences.user_id = ?
[2026-02-05 20:04:16,651] [    INFO] base.py:1846 - SELECT execution_mode_preferences.user_id, execution_mode_preferences.default_mode, execution_mode_preferences.agent_mode_enabled, execution_mode_preferences.auto_detect_complexity, execution_mode_preferences.show_cost_estimation, execution_mode_preferences.require_approval_above_usd, execution_mode_preferences.general_chat_enabled, execution_mode_preferences.fallback_to_general, execution_mode_preferences.id, execution_mode_preferences.created_at, execution_mode_preferences.updated_at 
FROM execution_mode_preferences 
WHERE execution_mode_preferences.user_id = ?
2026-02-05 20:04:16,651 INFO sqlalchemy.engine.Engine [cached since 42.06s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:04:16,651] [    INFO] base.py:1846 - [cached since 42.06s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:04:16,652 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
[2026-02-05 20:04:16,652] [    INFO] base.py:1846 - SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
2026-02-05 20:04:16,653 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:16,653] [    INFO] base.py:1846 - [generated in 0.00020s] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:16,653 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,653] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:16,654 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,654] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49865 - "GET /api/v1/agent/mode?session_id=d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
2026-02-05 20:04:16,655 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,655] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:16,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:16,655] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:16,655 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:04:16,655] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:04:16,655 INFO sqlalchemy.engine.Engine [cached since 36.77s ago] ('chat',)
[2026-02-05 20:04:16,655] [    INFO] base.py:1846 - [cached since 36.77s ago] ('chat',)
INFO:     127.0.0.1:49863 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
2026-02-05 20:04:16,656 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:16,656] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:49861 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364/llm HTTP/1.1" 200 OK
INFO:     127.0.0.1:49892 - "OPTIONS /api/v1/chat/completions HTTP/1.1" 200 OK
[2026-02-05 20:04:21,532] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:04:21.532456Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
2026-02-05 20:04:21,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:21,532] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:21,533 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:21,533] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:21,533 INFO sqlalchemy.engine.Engine [cached since 127s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:04:21,533] [    INFO] base.py:1846 - [cached since 127s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:04:21,533 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:21,533] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:21,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:21,534] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:21,534 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:21,534] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:21,534 INFO sqlalchemy.engine.Engine [cached since 127s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:04:21,534] [    INFO] base.py:1846 - [cached since 127s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:04:21,534 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:21,534] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:21,535] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:04:21.535111Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:04:24,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:24,654] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:24,655 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:04:24,655] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:04:24,655 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] ()
[2026-02-05 20:04:24,655] [    INFO] base.py:1846 - [cached since 122.3s ago] ()
2026-02-05 20:04:24,660 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:24,660] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:24,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:24,660] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:24,660 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:04:24,660] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:04:24,660 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] ()
[2026-02-05 20:04:24,660] [    INFO] base.py:1846 - [cached since 122.3s ago] ()
2026-02-05 20:04:24,663 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:24,663] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:25,289] [ WARNING] adaptive_router.py:137 - [2m2026-02-05T19:04:25.289607Z[0m [[33m[1mwarning  [0m] [1mQuery classification failed   [0m [[0m[1m[34mbackend.services.adaptive_router[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object QueryClassification can't be used in 'await' expression"[0m
2026-02-05 20:04:25,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:25,295] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:25,295 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:25,295] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:25,295 INFO sqlalchemy.engine.Engine [cached since 130.7s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:04:25,295] [    INFO] base.py:1846 - [cached since 130.7s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:04:25,296 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:25,296] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:25,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:25,296] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:25,296 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:25,296] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:25,296 INFO sqlalchemy.engine.Engine [cached since 130.7s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:04:25,296] [    INFO] base.py:1846 - [cached since 130.7s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:04:25,297 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:25,297] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:25,297] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:04:25.297427Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:04:28,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,366] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,366 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:04:28,366] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:04:28,366 INFO sqlalchemy.engine.Engine [cached since 38.61s ago] ()
[2026-02-05 20:04:28,366] [    INFO] base.py:1846 - [cached since 38.61s ago] ()
2026-02-05 20:04:28,367 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,367] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,375] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,375 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:04:28,375] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:04:28,375 INFO sqlalchemy.engine.Engine [cached since 38.17s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:04:28,375] [    INFO] base.py:1846 - [cached since 38.17s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:04:28,478] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:04:28.478824Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,479] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:28,479] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine [cached since 133.9s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:04:28,479] [    INFO] base.py:1846 - [cached since 133.9s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,479] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,479] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,479 INFO sqlalchemy.engine.Engine [cached since 38.09s ago] (100, '%list%', '%list%', 10, 0)
[2026-02-05 20:04:28,479] [    INFO] base.py:1846 - [cached since 38.09s ago] (100, '%list%', '%list%', 10, 0)
2026-02-05 20:04:28,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,480] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,480 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:04:28,480] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:04:28,480 INFO sqlalchemy.engine.Engine [cached since 38.72s ago] ()
[2026-02-05 20:04:28,480] [    INFO] base.py:1846 - [cached since 38.72s ago] ()
2026-02-05 20:04:28,481 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,481] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,481 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,481] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,481 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,481] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,482] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,482 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:28,482] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:28,482 INFO sqlalchemy.engine.Engine [cached since 133.9s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:04:28,482] [    INFO] base.py:1846 - [cached since 133.9s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:04:28,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,487] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,487 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:04:28,487] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:04:28,487 INFO sqlalchemy.engine.Engine [cached since 38.28s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', 'FAILED', 'Deleted by user')
[2026-02-05 20:04:28,487] [    INFO] base.py:1846 - [cached since 38.28s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', 'FAILED', 'Deleted by user')
[2026-02-05 20:04:28,580] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:04:28.580032Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:28,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,580] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,580 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:28,580] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:28,580 INFO sqlalchemy.engine.Engine [cached since 134s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:04:28,580] [    INFO] base.py:1846 - [cached since 134s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:04:28,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,580] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,580 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,580] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,581 INFO sqlalchemy.engine.Engine [cached since 38.19s ago] (100, '%list%', '%list%', 10, 0)
[2026-02-05 20:04:28,581] [    INFO] base.py:1846 - [cached since 38.19s ago] (100, '%list%', '%list%', 10, 0)
2026-02-05 20:04:28,581 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,581] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,581 INFO sqlalchemy.engine.Engine [cached since 38.19s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:04:28,581] [    INFO] base.py:1846 - [cached since 38.19s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:04:28,582 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,582] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,582 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,582] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,582 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,582] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:28,582 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,582] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,582 INFO sqlalchemy.engine.Engine [cached since 38.19s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:04:28,582] [    INFO] base.py:1846 - [cached since 38.19s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:04:28,583] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:04:28.582990Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:04:28,584 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,584] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,584 INFO sqlalchemy.engine.Engine [cached since 38.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:04:28,584] [    INFO] base.py:1846 - [cached since 38.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:28,585] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:28,585] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine [cached since 134s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:04:28,585] [    INFO] base.py:1846 - [cached since 134s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,585] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine [cached since 38.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:04:28,585] [    INFO] base.py:1846 - [cached since 38.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:04:28,585 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,585] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:28,586] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:04:28.586150Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:04:28,587 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,587] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,587 INFO sqlalchemy.engine.Engine [cached since 38.2s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:04:28,587] [    INFO] base.py:1846 - [cached since 38.2s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:04:28,587 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,587] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,588 INFO sqlalchemy.engine.Engine [cached since 38.2s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:04:28,588] [    INFO] base.py:1846 - [cached since 38.2s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:04:28,588 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,588] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,588 INFO sqlalchemy.engine.Engine [cached since 38.2s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:04:28,588] [    INFO] base.py:1846 - [cached since 38.2s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:04:28,589 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,589] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:28,589] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:04:28.589287Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:28,729 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,729] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,729 INFO sqlalchemy.engine.Engine [cached since 38.23s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:04:28,729] [    INFO] base.py:1846 - [cached since 38.23s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:04:28,730 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:04:28,730] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:04:28,730 INFO sqlalchemy.engine.Engine [cached since 38.34s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:04:28,730] [    INFO] base.py:1846 - [cached since 38.34s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:04:28,730 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:28,730] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:28,730] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:04:28.730871Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:30,549 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:30,549] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:30,550 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,550] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,550 INFO sqlalchemy.engine.Engine [cached since 36.43s ago] ('%Planetary boundaries%', 10, 0)
[2026-02-05 20:04:30,550] [    INFO] base.py:1846 - [cached since 36.43s ago] ('%Planetary boundaries%', 10, 0)
2026-02-05 20:04:30,569 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,569] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,569 INFO sqlalchemy.engine.Engine [cached since 36.33s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:04:30,569] [    INFO] base.py:1846 - [cached since 36.33s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:04:30,570 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,570] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,570 INFO sqlalchemy.engine.Engine [cached since 36.33s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:04:30,570] [    INFO] base.py:1846 - [cached since 36.33s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:04:30,570 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:30,570] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:30,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:30,570] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:30,570 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,570] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,571 INFO sqlalchemy.engine.Engine [cached since 36.45s ago] ('%Earth%', 10, 0)
[2026-02-05 20:04:30,571] [    INFO] base.py:1846 - [cached since 36.45s ago] ('%Earth%', 10, 0)
2026-02-05 20:04:30,576 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,576] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,576 INFO sqlalchemy.engine.Engine [cached since 36.34s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
[2026-02-05 20:04:30,576] [    INFO] base.py:1846 - [cached since 36.34s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
2026-02-05 20:04:30,577 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,577] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,577 INFO sqlalchemy.engine.Engine [cached since 36.34s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
[2026-02-05 20:04:30,577] [    INFO] base.py:1846 - [cached since 36.34s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
2026-02-05 20:04:30,577 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,577] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,577 INFO sqlalchemy.engine.Engine [cached since 36.34s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
[2026-02-05 20:04:30,577] [    INFO] base.py:1846 - [cached since 36.34s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
2026-02-05 20:04:30,578 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,578] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,578 INFO sqlalchemy.engine.Engine [cached since 36.34s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
[2026-02-05 20:04:30,578] [    INFO] base.py:1846 - [cached since 36.34s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
2026-02-05 20:04:30,578 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,578] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,578 INFO sqlalchemy.engine.Engine [cached since 36.34s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
[2026-02-05 20:04:30,578] [    INFO] base.py:1846 - [cached since 36.34s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
2026-02-05 20:04:30,579 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:30,579] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:30,579] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:04:30.579293Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:30,769 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:30,769] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:30,769 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:30,769] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:30,769 INFO sqlalchemy.engine.Engine [cached since 36.38s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 20, 0)
[2026-02-05 20:04:30,769] [    INFO] base.py:1846 - [cached since 36.38s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 20, 0)
2026-02-05 20:04:30,903 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:04:30,903] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:04:30,903 INFO sqlalchemy.engine.Engine [cached since 36.19s ago] ()
[2026-02-05 20:04:30,903] [    INFO] base.py:1846 - [cached since 36.19s ago] ()
2026-02-05 20:04:31,245 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:31,245] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:31,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:31,246] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:31,246 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:31,246] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:31,246 INFO sqlalchemy.engine.Engine [cached since 136.7s ago] ('rag.graph_max_hops',)
[2026-02-05 20:04:31,246] [    INFO] base.py:1846 - [cached since 136.7s ago] ('rag.graph_max_hops',)
2026-02-05 20:04:31,246 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:31,246] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:31,247 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:31,247] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:31,247 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:31,247] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:31,247 INFO sqlalchemy.engine.Engine [cached since 36.86s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 5, 0)
[2026-02-05 20:04:31,247] [    INFO] base.py:1846 - [cached since 36.86s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 5, 0)
2026-02-05 20:04:31,325 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:04:31,325] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:04:31,325 INFO sqlalchemy.engine.Engine [cached since 36.61s ago] ()
[2026-02-05 20:04:31,325] [    INFO] base.py:1846 - [cached since 36.61s ago] ()
2026-02-05 20:04:31,660 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:31,660] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:32,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:32,573] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:32,574 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:04:32,574] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:04:32,574 INFO sqlalchemy.engine.Engine [cached since 38.45s ago] ('%Planetary boundaries%', 10, 0)
[2026-02-05 20:04:32,574] [    INFO] base.py:1846 - [cached since 38.45s ago] ('%Planetary boundaries%', 10, 0)
2026-02-05 20:04:32,579 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:32,579] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:32,579 INFO sqlalchemy.engine.Engine [cached since 38.34s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:04:32,579] [    INFO] base.py:1846 - [cached since 38.34s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:32,580] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine [cached since 38.34s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:04:32,580] [    INFO] base.py:1846 - [cached since 38.34s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:32,580] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:32,580] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:04:32,580] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:04:32,580 INFO sqlalchemy.engine.Engine [cached since 38.46s ago] ('%United Nations%', 10, 0)
[2026-02-05 20:04:32,580] [    INFO] base.py:1846 - [cached since 38.46s ago] ('%United Nations%', 10, 0)
2026-02-05 20:04:32,585 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:32,585] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:32,585] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:04:32.585837Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:04:32,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:32,677] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:32,677 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:32,677] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:32,677 INFO sqlalchemy.engine.Engine [cached since 38.29s ago] ('list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', '%list all of the planetary boundaries planetary boundaries united nations%', '%list all of the planetary boundaries Planetary boundaries United Nations%', 'list all of the planetary boundaries planetary boundaries united nations', 1, 'list all of the planetary boundaries planetary boundaries united nations', 2, 'list all of the planetary boundaries planetary boundaries united nations', 3, 4, 20, 0)
[2026-02-05 20:04:32,677] [    INFO] base.py:1846 - [cached since 38.29s ago] ('list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', '%list all of the planetary boundaries planetary boundaries united nations%', '%list all of the planetary boundaries Planetary boundaries United Nations%', 'list all of the planetary boundaries planetary boundaries united nations', 1, 'list all of the planetary boundaries planetary boundaries united nations', 2, 'list all of the planetary boundaries planetary boundaries united nations', 3, 4, 20, 0)
2026-02-05 20:04:32,766 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:04:32,766] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:04:32,767 INFO sqlalchemy.engine.Engine [cached since 38.05s ago] ()
[2026-02-05 20:04:32,767] [    INFO] base.py:1846 - [cached since 38.05s ago] ()
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090635Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35m4a03e5fa-2d90-4fb3-b34f-d6e3f7860dae[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090801Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35m90d731f7-d5ab-4008-8429-0c1e9f551df2[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090847Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35mf6426925-8b21-4b21-8ad8-92c4f1b9e369[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090884Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35maf062118-5a01-4f09-84fd-02b1d65d779d[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090915Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35mb1e2ffb2-84fb-4b36-b0c5-e346e1b63a65[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090947Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35md4667d83-5162-43e8-9251-44c0bcb2f447[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,090] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.090976Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35mc765d2d8-7f7e-444a-ae78-8d1b3f511adc[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,091] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.091004Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35mbdade311-0dfe-4a28-9418-e5dcb435b32c[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,091] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.091031Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35m24a973b2-f48d-4c18-8e94-6682363d5ecc[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,091] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.091059Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35me4f20340-c96a-4a05-8db8-50383e41d912[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,091] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.091085Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35m8f7fa59c-5e3c-450b-b75c-999d9004a6bf[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
[2026-02-05 20:04:33,091] [ WARNING] rag.py:5223 - [2m2026-02-05T19:04:33.091112Z[0m [[33m[1mwarning  [0m] [1mFailed to augment chunk with graph data[0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mchunk_id[0m=[35m016a8594-4f28-474c-9c1a-d4c70e3d7197[0m [36merror[0m=[35m"name 'uuid' is not defined"[0m
2026-02-05 20:04:33,091 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:33,091] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:33,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:33,091] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:33,091 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:04:33,091] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:04:33,091 INFO sqlalchemy.engine.Engine [cached since 138.5s ago] ('rag.graph_max_hops',)
[2026-02-05 20:04:33,091] [    INFO] base.py:1846 - [cached since 138.5s ago] ('rag.graph_max_hops',)
2026-02-05 20:04:33,092 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:33,092] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:33,092 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:33,092] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:33,092 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:33,092] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:33,092 INFO sqlalchemy.engine.Engine [cached since 38.71s ago] ('list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', '%list all of the planetary boundaries planetary boundaries united nations%', '%list all of the planetary boundaries Planetary boundaries United Nations%', 'list all of the planetary boundaries planetary boundaries united nations', 1, 'list all of the planetary boundaries planetary boundaries united nations', 2, 'list all of the planetary boundaries planetary boundaries united nations', 3, 4, 5, 0)
[2026-02-05 20:04:33,092] [    INFO] base.py:1846 - [cached since 38.71s ago] ('list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', 'list all of the planetary boundaries planetary boundaries united nations', '%list all of the planetary boundaries planetary boundaries united nations%', '%list all of the planetary boundaries Planetary boundaries United Nations%', 'list all of the planetary boundaries planetary boundaries united nations', 1, 'list all of the planetary boundaries planetary boundaries united nations', 2, 'list all of the planetary boundaries planetary boundaries united nations', 3, 4, 5, 0)
2026-02-05 20:04:33,175 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:04:33,175] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:04:33,175 INFO sqlalchemy.engine.Engine [cached since 38.46s ago] ()
[2026-02-05 20:04:33,175] [    INFO] base.py:1846 - [cached since 38.46s ago] ()
2026-02-05 20:04:33,507 INFO sqlalchemy.engine.Engine SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?) OR entity_relations.target_entity_id IN (?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:33,507] [    INFO] base.py:1846 - SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?) OR entity_relations.target_entity_id IN (?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:33,507 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'bdf1633f-b844-40d1-a3f8-61643d542748', 8, 0)
[2026-02-05 20:04:33,507] [    INFO] base.py:1846 - [generated in 0.00021s] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'bdf1633f-b844-40d1-a3f8-61643d542748', 8, 0)
2026-02-05 20:04:33,510 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?)
[2026-02-05 20:04:33,510] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?)
2026-02-05 20:04:33,510 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('bdf1633f-b844-40d1-a3f8-61643d542748',)
[2026-02-05 20:04:33,510] [    INFO] base.py:1846 - [generated in 0.00011s] ('bdf1633f-b844-40d1-a3f8-61643d542748',)
2026-02-05 20:04:33,511 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?)
[2026-02-05 20:04:33,511] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?)
2026-02-05 20:04:33,511 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:04:33,511] [    INFO] base.py:1846 - [generated in 0.00015s] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:04:33,513 INFO sqlalchemy.engine.Engine SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?, ?, ?, ?) OR entity_relations.target_entity_id IN (?, ?, ?, ?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:33,513] [    INFO] base.py:1846 - SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?, ?, ?, ?) OR entity_relations.target_entity_id IN (?, ?, ?, ?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:33,513 INFO sqlalchemy.engine.Engine [cached since 0.006135s ago] ('2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', 8, 0)
[2026-02-05 20:04:33,513] [    INFO] base.py:1846 - [cached since 0.006135s ago] ('2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', 8, 0)
2026-02-05 20:04:33,514 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?)
[2026-02-05 20:04:33,514] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?)
2026-02-05 20:04:33,514 INFO sqlalchemy.engine.Engine [cached since 0.004838s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:04:33,514] [    INFO] base.py:1846 - [cached since 0.004838s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:04:33,515 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?)
[2026-02-05 20:04:33,515] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?)
2026-02-05 20:04:33,515 INFO sqlalchemy.engine.Engine [cached since 0.004301s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:04:33,515] [    INFO] base.py:1846 - [cached since 0.004301s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:04:33,518 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?, ?)
[2026-02-05 20:04:33,518] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?, ?)
2026-02-05 20:04:33,518 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('bdf1633f-b844-40d1-a3f8-61643d542748', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498')
[2026-02-05 20:04:33,518] [    INFO] base.py:1846 - [generated in 0.00023s] ('bdf1633f-b844-40d1-a3f8-61643d542748', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498')
2026-02-05 20:04:33,521 INFO sqlalchemy.engine.Engine SELECT entity_mentions.entity_id, entity_mentions.document_id, entity_mentions.chunk_id, entity_mentions.context_snippet, entity_mentions.confidence, entity_mentions.page_number, entity_mentions.char_offset, entity_mentions.mention_language, entity_mentions.mention_script, entity_mentions.created_at, entity_mentions.id 
FROM entity_mentions JOIN chunks ON entity_mentions.chunk_id = chunks.id JOIN documents ON chunks.document_id = documents.id JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE entity_mentions.entity_id IN (?, ?, ?, ?, ?, ?) AND access_tiers.level <= ?
 LIMIT ? OFFSET ?
[2026-02-05 20:04:33,521] [    INFO] base.py:1846 - SELECT entity_mentions.entity_id, entity_mentions.document_id, entity_mentions.chunk_id, entity_mentions.context_snippet, entity_mentions.confidence, entity_mentions.page_number, entity_mentions.char_offset, entity_mentions.mention_language, entity_mentions.mention_script, entity_mentions.created_at, entity_mentions.id 
FROM entity_mentions JOIN chunks ON entity_mentions.chunk_id = chunks.id JOIN documents ON chunks.document_id = documents.id JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE entity_mentions.entity_id IN (?, ?, ?, ?, ?, ?) AND access_tiers.level <= ?
 LIMIT ? OFFSET ?
2026-02-05 20:04:33,521 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('bdf1633f-b844-40d1-a3f8-61643d542748', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', 100, 16, 0)
[2026-02-05 20:04:33,521] [    INFO] base.py:1846 - [generated in 0.00018s] ('bdf1633f-b844-40d1-a3f8-61643d542748', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', 100, 16, 0)
2026-02-05 20:04:33,523 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:33,523] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:33,525] [ WARNING] context_sufficiency.py:302 - [2m2026-02-05T19:04:33.525874Z[0m [[33m[1mwarning  [0m] [1mSemantic coverage calculation failed, using keyword only[0m [[0m[1m[34mbackend.services.context_sufficiency[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"'RayEmbeddingService' object has no attribute 'embed_query'"[0m
[2026-02-05 20:04:33,529] [   ERROR] generative_cache.py:472 - [2m2026-02-05T19:04:33.529276Z[0m [[31m[1merror    [0m] [1mFailed to initialize GenerativeCache[0m [[0m[1m[34mbackend.services.generative_cache[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
2026-02-05 20:04:44,631 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:44,631] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:44,632 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:04:44,632] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:04:44,632 INFO sqlalchemy.engine.Engine [cached since 144.4s ago] ('QUEUED',)
[2026-02-05 20:04:44,632] [    INFO] base.py:1846 - [cached since 144.4s ago] ('QUEUED',)
2026-02-05 20:04:44,633 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:44,633] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:46,289] [ WARNING] rag.py:3033 - [2m2026-02-05T19:04:46.288798Z[0m [[33m[1mwarning  [0m] [1mFailed to cache response      [0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"name 'collection_name' is not defined"[0m
2026-02-05 20:04:46,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:46,292] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:46,293 INFO sqlalchemy.engine.Engine INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
[2026-02-05 20:04:46,293] [    INFO] base.py:1846 - INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
2026-02-05 20:04:46,293 INFO sqlalchemy.engine.Engine [cached since 40.73s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 1999, 60, 2059, 0.0, 0.0, 0.0, 21634, 1, None, 'af3f198c-97e1-431c-aefa-e7dbf084655d')
[2026-02-05 20:04:46,293] [    INFO] base.py:1846 - [cached since 40.73s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 1999, 60, 2059, 0.0, 0.0, 0.0, 21634, 1, None, 'af3f198c-97e1-431c-aefa-e7dbf084655d')
2026-02-05 20:04:46,296 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:46,296] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:56,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:56,913] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:56,913 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:56,913] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:56,913 INFO sqlalchemy.engine.Engine [cached since 40.38s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:56,913] [    INFO] base.py:1846 - [cached since 40.38s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:56,916 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:56,916] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:56,916 INFO sqlalchemy.engine.Engine [cached since 40.38s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:56,916] [    INFO] base.py:1846 - [cached since 40.38s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:56,918 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
[2026-02-05 20:04:56,918] [    INFO] base.py:1844 - INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
2026-02-05 20:04:56,918 INFO sqlalchemy.engine.Engine [cached since 40.37s ago (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'list all of them', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', '71f914ba-1a08-4c31-ab74-74808214e1e3', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "d4667d83-5162-43e8-9251-44c ... (8279 characters truncated) ... ute for Climate Impact Research (PIK); Member of the Leibniz Association, Telegraphenberg A 31,\\n14473 Potsdam, Germany; 2025", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8070013523101807, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', '03daafd8-0113-450c-863b-c647986eaed4')
[2026-02-05 20:04:56,918] [    INFO] base.py:1844 - [cached since 40.37s ago (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'list all of them', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', '71f914ba-1a08-4c31-ab74-74808214e1e3', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "d4667d83-5162-43e8-9251-44c ... (8279 characters truncated) ... ute for Climate Impact Research (PIK); Member of the Leibniz Association, Telegraphenberg A 31,\\n14473 Potsdam, Germany; 2025", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8070013523101807, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', '03daafd8-0113-450c-863b-c647986eaed4')
2026-02-05 20:04:56,920 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:56,920] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:04:56,925] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:04:56.925384Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
INFO:     127.0.0.1:49892 - "POST /api/v1/chat/completions HTTP/1.1" 200 OK
2026-02-05 20:04:56,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:56,936] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:56,937 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:04:56,937] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:04:56,937 INFO sqlalchemy.engine.Engine [cached since 40.29s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:56,937] [    INFO] base.py:1846 - [cached since 40.29s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:56,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:56,939] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:56,939 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:04:56,939] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:04:56,939 INFO sqlalchemy.engine.Engine [cached since 116.6s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:04:56,939] [    INFO] base.py:1846 - [cached since 116.6s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:04:56,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:56,940] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:56,940 INFO sqlalchemy.engine.Engine SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
[2026-02-05 20:04:56,940] [    INFO] base.py:1846 - SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
2026-02-05 20:04:56,940 INFO sqlalchemy.engine.Engine [cached since 69.28s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:56,940] [    INFO] base.py:1846 - [cached since 69.28s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:56,942 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
[2026-02-05 20:04:56,942] [    INFO] base.py:1846 - SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
2026-02-05 20:04:56,942 INFO sqlalchemy.engine.Engine [cached since 40.29s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:04:56,942] [    INFO] base.py:1846 - [cached since 40.29s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:04:56,943 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:04:56,943] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:04:56,943 INFO sqlalchemy.engine.Engine [cached since 163.5s ago] ('admin@example.com',)
[2026-02-05 20:04:56,943] [    INFO] base.py:1846 - [cached since 163.5s ago] ('admin@example.com',)
2026-02-05 20:04:56,943 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:56,943] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:56,944 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:56,944] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:04:56,944 INFO sqlalchemy.engine.Engine SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
[2026-02-05 20:04:56,944] [    INFO] base.py:1846 - SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
2026-02-05 20:04:56,944 INFO sqlalchemy.engine.Engine [cached since 116.6s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:04:56,944] [    INFO] base.py:1846 - [cached since 116.6s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:04:56,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:04:56,945] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:04:56,945 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:04:56,945] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:04:56,945 INFO sqlalchemy.engine.Engine [cached since 77.06s ago] ('chat',)
[2026-02-05 20:04:56,945] [    INFO] base.py:1846 - [cached since 77.06s ago] ('chat',)
INFO:     127.0.0.1:49892 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
2026-02-05 20:04:56,947 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:04:56,947] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
2026-02-05 20:04:56,947 INFO sqlalchemy.engine.Engine [cached since 116.6s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
[2026-02-05 20:04:56,947] [    INFO] base.py:1846 - [cached since 116.6s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
2026-02-05 20:04:56,947 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:56,947] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:50083 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364/llm HTTP/1.1" 200 OK
2026-02-05 20:04:56,949 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
[2026-02-05 20:04:56,949] [    INFO] base.py:1846 - SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
2026-02-05 20:04:56,949 INFO sqlalchemy.engine.Engine [cached since 116.6s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
[2026-02-05 20:04:56,949] [    INFO] base.py:1846 - [cached since 116.6s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
2026-02-05 20:04:56,953 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:04:56,953] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:50082 - "GET /api/v1/chat/sessions HTTP/1.1" 200 OK
[2026-02-05 20:05:08,453] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:05:08.453742Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
2026-02-05 20:05:08,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:08,454] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:08,454 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:08,454] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:08,454 INFO sqlalchemy.engine.Engine [cached since 173.9s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:08,454] [    INFO] base.py:1846 - [cached since 173.9s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:08,455 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:08,455] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:08,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:08,455] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:08,456 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:08,456] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:08,456 INFO sqlalchemy.engine.Engine [cached since 173.9s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:08,456] [    INFO] base.py:1846 - [cached since 173.9s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:08,456 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:08,456] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:08,457] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:08.457020Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:11,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:11,786] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:11,786 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:05:11,786] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:05:11,786 INFO sqlalchemy.engine.Engine [cached since 169.4s ago] ()
[2026-02-05 20:05:11,786] [    INFO] base.py:1846 - [cached since 169.4s ago] ()
2026-02-05 20:05:11,791 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:11,791] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:11,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:11,791] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:11,791 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:05:11,791] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:05:11,791 INFO sqlalchemy.engine.Engine [cached since 169.4s ago] ()
[2026-02-05 20:05:11,791] [    INFO] base.py:1846 - [cached since 169.4s ago] ()
2026-02-05 20:05:11,794 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:11,794] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:11,957] [ WARNING] adaptive_router.py:137 - [2m2026-02-05T19:05:11.957209Z[0m [[33m[1mwarning  [0m] [1mQuery classification failed   [0m [[0m[1m[34mbackend.services.adaptive_router[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object QueryClassification can't be used in 'await' expression"[0m
2026-02-05 20:05:11,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:11,958] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:11,958 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:05:11,958] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:05:11,958 INFO sqlalchemy.engine.Engine [cached since 92.07s ago] ('query_expansion',)
[2026-02-05 20:05:11,958] [    INFO] base.py:1846 - [cached since 92.07s ago] ('query_expansion',)
2026-02-05 20:05:11,959 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:11,959] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:11,959 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:11,959] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:11,960 INFO sqlalchemy.engine.Engine SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
[2026-02-05 20:05:11,960] [    INFO] base.py:1846 - SELECT provider_health_cache.provider_id, provider_health_cache.status, provider_health_cache.is_healthy, provider_health_cache.last_latency_ms, provider_health_cache.avg_latency_ms, provider_health_cache.consecutive_failures, provider_health_cache.last_failure_at, provider_health_cache.last_success_at, provider_health_cache.circuit_open, provider_health_cache.circuit_open_until, provider_health_cache.last_check_at, provider_health_cache.id, provider_health_cache.created_at, provider_health_cache.updated_at 
FROM provider_health_cache 
WHERE provider_health_cache.provider_id = ?
2026-02-05 20:05:11,960 INFO sqlalchemy.engine.Engine [cached since 92.07s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
[2026-02-05 20:05:11,960] [    INFO] base.py:1846 - [cached since 92.07s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268',)
2026-02-05 20:05:11,960 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:11,960] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:11,961 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:11,961] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:11,961 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:11,961] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:11,961 INFO sqlalchemy.engine.Engine [cached since 177.4s ago] ('llm.model_context_overrides',)
[2026-02-05 20:05:11,961] [    INFO] base.py:1846 - [cached since 177.4s ago] ('llm.model_context_overrides',)
2026-02-05 20:05:11,961 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:11,961] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:13,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:13,140] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:13,140 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:13,140] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:13,140 INFO sqlalchemy.engine.Engine [cached since 178.6s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:13,140] [    INFO] base.py:1846 - [cached since 178.6s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:13,141 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:13,141] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:13,141 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:13,141] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:13,141 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:13,141] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:13,141 INFO sqlalchemy.engine.Engine [cached since 178.6s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:13,141] [    INFO] base.py:1846 - [cached since 178.6s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:13,142 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:13,142] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:13,142] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:13.142407Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:14,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:14,635] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:14,635 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:05:14,635] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:05:14,635 INFO sqlalchemy.engine.Engine [cached since 174.4s ago] ('QUEUED',)
[2026-02-05 20:05:14,635] [    INFO] base.py:1846 - [cached since 174.4s ago] ('QUEUED',)
2026-02-05 20:05:14,636 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:14,636] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,149] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,150 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:05:16,150] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:05:16,150 INFO sqlalchemy.engine.Engine [cached since 86.39s ago] ()
[2026-02-05 20:05:16,150] [    INFO] base.py:1846 - [cached since 86.39s ago] ()
2026-02-05 20:05:16,151 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,151] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,163] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,164 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:05:16,164] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:05:16,164 INFO sqlalchemy.engine.Engine [cached since 85.96s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,164] [    INFO] base.py:1846 - [cached since 85.96s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,272] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:05:16.272598Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,273] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,273] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine [cached since 181.7s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:16,273] [    INFO] base.py:1846 - [cached since 181.7s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,273] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,273] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,273 INFO sqlalchemy.engine.Engine [cached since 85.88s ago] (100, '%list%', '%list%', 10, 0)
[2026-02-05 20:05:16,273] [    INFO] base.py:1846 - [cached since 85.88s ago] (100, '%list%', '%list%', 10, 0)
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,274] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:05:16,274] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine [cached since 86.51s ago] ()
[2026-02-05 20:05:16,274] [    INFO] base.py:1846 - [cached since 86.51s ago] ()
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,274] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:05:16,274] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:05:16,274 INFO sqlalchemy.engine.Engine [cached since 86.51s ago] ()
[2026-02-05 20:05:16,274] [    INFO] base.py:1846 - [cached since 86.51s ago] ()
2026-02-05 20:05:16,275 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,275] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,276 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,276] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,276 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,276] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,276 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,276] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,277] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,277 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,277] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,277 INFO sqlalchemy.engine.Engine [cached since 181.7s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:16,277] [    INFO] base.py:1846 - [cached since 181.7s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:16,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,281] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,282 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:05:16,282] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:05:16,282 INFO sqlalchemy.engine.Engine [cached since 86.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,282] [    INFO] base.py:1846 - [cached since 86.08s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'f3fe20d3-3d83-4de8-9d72-b0b5d0c4c1e1', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,372] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:05:16.372918Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,373] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,373 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,373] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,373 INFO sqlalchemy.engine.Engine [cached since 181.8s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:16,373] [    INFO] base.py:1846 - [cached since 181.8s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:16,378 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,378] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,379 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:05:16,379] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:05:16,379 INFO sqlalchemy.engine.Engine [cached since 86.18s ago] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'bf546a41-8f72-40b8-a2a1-38d2ba2d9dcb', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,379] [    INFO] base.py:1846 - [cached since 86.18s ago] ('5380c189-c289-4cd3-ac91-ebc90f5674cc', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', '6f511ed1-23ed-4609-a037-c524b35354a2', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'bf546a41-8f72-40b8-a2a1-38d2ba2d9dcb', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,472] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:05:16.472152Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,472] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:05:16,472] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine [cached since 86.71s ago] ()
[2026-02-05 20:05:16,472] [    INFO] base.py:1846 - [cached since 86.71s ago] ()
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,472] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine SELECT count(documents.id) AS count_1 
FROM documents
[2026-02-05 20:05:16,472] [    INFO] base.py:1846 - SELECT count(documents.id) AS count_1 
FROM documents
2026-02-05 20:05:16,472 INFO sqlalchemy.engine.Engine [cached since 86.71s ago] ()
[2026-02-05 20:05:16,472] [    INFO] base.py:1846 - [cached since 86.71s ago] ()
2026-02-05 20:05:16,473 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,473] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,473 INFO sqlalchemy.engine.Engine [cached since 86.08s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:16,473] [    INFO] base.py:1846 - [cached since 86.08s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,474] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,474] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,474] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine [cached since 86.08s ago] (100, '%list%', '%list%', 10, 0)
[2026-02-05 20:05:16,474] [    INFO] base.py:1846 - [cached since 86.08s ago] (100, '%list%', '%list%', 10, 0)
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,474] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,474 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,474] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:16,475] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:16.475504Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:16,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,476] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,477 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,477] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,477 INFO sqlalchemy.engine.Engine [cached since 181.9s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:16,477] [    INFO] base.py:1846 - [cached since 181.9s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:16,477 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,477] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine [cached since 85.98s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - [cached since 85.98s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,478] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine [cached since 86.09s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - [cached since 86.09s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,478] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,478 INFO sqlalchemy.engine.Engine [cached since 181.9s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:16,478] [    INFO] base.py:1846 - [cached since 181.9s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:16,479 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,479] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:16,479] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:16.479640Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:16,482 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,482] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,482 INFO sqlalchemy.engine.Engine [cached since 86.09s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:16,482] [    INFO] base.py:1846 - [cached since 86.09s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:05:16,484 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,484] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:16,484] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:16.484821Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,644 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,644] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,645 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,645] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,645 INFO sqlalchemy.engine.Engine [cached since 86.26s ago] (100, '%types%', '%types%', 10, 0)
[2026-02-05 20:05:16,645] [    INFO] base.py:1846 - [cached since 86.26s ago] (100, '%types%', '%types%', 10, 0)
2026-02-05 20:05:16,645 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,645] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,645 INFO sqlalchemy.engine.Engine [cached since 86.26s ago] (100, '%celestial%', '%celestial%', 10, 0)
[2026-02-05 20:05:16,645] [    INFO] base.py:1846 - [cached since 86.26s ago] (100, '%celestial%', '%celestial%', 10, 0)
2026-02-05 20:05:16,645 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,645] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,646 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,646] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,646 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,646] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,646 INFO sqlalchemy.engine.Engine [cached since 86.26s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:16,646] [    INFO] base.py:1846 - [cached since 86.26s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:05:16,647 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,647] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,647 INFO sqlalchemy.engine.Engine [cached since 86.26s ago] (100, '%bodies%', '%bodies%', 10, 0)
[2026-02-05 20:05:16,647] [    INFO] base.py:1846 - [cached since 86.26s ago] (100, '%bodies%', '%bodies%', 10, 0)
2026-02-05 20:05:16,653 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,653] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,653 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:05:16,653] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:05:16,653 INFO sqlalchemy.engine.Engine [cached since 86.45s ago] ('2bd15f2a-ba4b-4480-89e8-397b42a81db9', '7434a3e0-616d-4de2-b1c9-6de7b9f0265b', '91fdb9f5-bd17-4e40-bac4-f3cd0faf1469', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,653] [    INFO] base.py:1846 - [cached since 86.45s ago] ('2bd15f2a-ba4b-4480-89e8-397b42a81db9', '7434a3e0-616d-4de2-b1c9-6de7b9f0265b', '91fdb9f5-bd17-4e40-bac4-f3cd0faf1469', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', '5a2c002c-e6e5-4b25-b8bd-4b05ba251073', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'd08261fa-9c37-4ce8-8cb5-b1690d8aeb2a', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,754] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:05:16.754792Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,755 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,755] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,755 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,755] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,755 INFO sqlalchemy.engine.Engine [cached since 182.2s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:16,755] [    INFO] base.py:1846 - [cached since 182.2s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:16,755 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,755] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,756 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,756] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,756 INFO sqlalchemy.engine.Engine [cached since 86.37s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:16,756] [    INFO] base.py:1846 - [cached since 86.37s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:05:16,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,761] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,761 INFO sqlalchemy.engine.Engine SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
[2026-02-05 20:05:16,761] [    INFO] base.py:1846 - SELECT documents.id 
FROM documents 
WHERE documents.id IN (?, ?, ?, ?, ?, ?) AND documents.processing_status = ? AND documents.processing_error = ?
2026-02-05 20:05:16,761 INFO sqlalchemy.engine.Engine [cached since 86.56s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,761] [    INFO] base.py:1846 - [cached since 86.56s ago] ('ca369011-9644-4289-8d6c-02c570f4c3e9', 'c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 'd6ab0da5-24f1-4d8f-bc74-ef3ed2426001', 'c60962b7-6c8c-4334-92a7-b78fc75de3cb', '9b1e728c-afc9-40a2-a7fb-825d730bb28f', 'bbb021f9-0ed4-4a83-ae6f-0c499dd30a4c', 'FAILED', 'Deleted by user')
[2026-02-05 20:05:16,857] [ WARNING] raptor_retriever.py:600 - [2m2026-02-05T19:05:16.857267Z[0m [[33m[1mwarning  [0m] [1mNo RAPTOR tree found          [0m [[0m[1m[34mbackend.services.raptor_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:16,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,857] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,857 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,857] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,857 INFO sqlalchemy.engine.Engine [cached since 182.3s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:16,857] [    INFO] base.py:1846 - [cached since 182.3s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:16,858 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,858] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,858 INFO sqlalchemy.engine.Engine [cached since 86.47s ago] (100, '%solar%', '%solar%', 10, 0)
[2026-02-05 20:05:16,858] [    INFO] base.py:1846 - [cached since 86.47s ago] (100, '%solar%', '%solar%', 10, 0)
2026-02-05 20:05:16,859 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,859] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,859 INFO sqlalchemy.engine.Engine [cached since 86.36s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:05:16,859] [    INFO] base.py:1846 - [cached since 86.36s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:05:16,859 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,859] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,859 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,859] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,859 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,859] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,860] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,860 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,860] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,860 INFO sqlalchemy.engine.Engine [cached since 182.3s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:16,860] [    INFO] base.py:1846 - [cached since 182.3s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:16,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,860] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine [cached since 182.3s ago] ('rag.entity_extraction_enabled',)
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - [cached since 182.3s ago] ('rag.entity_extraction_enabled',)
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:16,861] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine [cached since 86.47s ago] (100, '%list%', '%list%', 10, 0)
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - [cached since 86.47s ago] (100, '%list%', '%list%', 10, 0)
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,861 INFO sqlalchemy.engine.Engine [cached since 86.36s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:05:16,861] [    INFO] base.py:1846 - [cached since 86.36s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:05:16,862 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,862] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,862 INFO sqlalchemy.engine.Engine [cached since 86.47s ago] (100, '%system%', '%system%', 10, 0)
[2026-02-05 20:05:16,862] [    INFO] base.py:1846 - [cached since 86.47s ago] (100, '%system%', '%system%', 10, 0)
2026-02-05 20:05:16,862 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,862] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,863 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,863] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,863 INFO sqlalchemy.engine.Engine [cached since 86.47s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:16,863] [    INFO] base.py:1846 - [cached since 86.47s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:16,863] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:16.863565Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:16,865 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,865] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,865 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,865] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:16,865] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:16.865839Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:16,866 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:16,866] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:16,867 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:16,867] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:16,867 INFO sqlalchemy.engine.Engine [cached since 86.48s ago] (100, '%limits%', '%limits%', 10, 0)
[2026-02-05 20:05:16,867] [    INFO] base.py:1846 - [cached since 86.48s ago] (100, '%limits%', '%limits%', 10, 0)
[2026-02-05 20:05:16,867] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:16.867930Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
[2026-02-05 20:05:17,067] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:17.067008Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:17,164 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,164] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,164 INFO sqlalchemy.engine.Engine [cached since 86.77s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:17,164] [    INFO] base.py:1846 - [cached since 86.77s ago] (100, '%planetary%', '%planetary%', 10, 0)
2026-02-05 20:05:17,165 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,165] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,165 INFO sqlalchemy.engine.Engine [cached since 86.78s ago] (100, '%exploration%', '%exploration%', 10, 0)
[2026-02-05 20:05:17,165] [    INFO] base.py:1846 - [cached since 86.78s ago] (100, '%exploration%', '%exploration%', 10, 0)
2026-02-05 20:05:17,165 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:17,165] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:17,166 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,166] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,166 INFO sqlalchemy.engine.Engine [cached since 86.78s ago] (100, '%definition%', '%definition%', 10, 0)
[2026-02-05 20:05:17,166] [    INFO] base.py:1846 - [cached since 86.78s ago] (100, '%definition%', '%definition%', 10, 0)
2026-02-05 20:05:17,167 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,167] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,167 INFO sqlalchemy.engine.Engine [cached since 86.66s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:05:17,167] [    INFO] base.py:1846 - [cached since 86.66s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:05:17,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:17,167] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:17,167 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:17,167] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:17,167 INFO sqlalchemy.engine.Engine [cached since 182.6s ago] ('kg.dependency_extraction_enabled',)
[2026-02-05 20:05:17,167] [    INFO] base.py:1846 - [cached since 182.6s ago] ('kg.dependency_extraction_enabled',)
2026-02-05 20:05:17,168 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:17,168] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:17,168 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:17,168] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:17,168] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:17.168870Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:17,305 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,305] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,306 INFO sqlalchemy.engine.Engine [cached since 86.92s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:17,306] [    INFO] base.py:1846 - [cached since 86.92s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:05:17,307 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,307] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,307 INFO sqlalchemy.engine.Engine [cached since 86.92s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:17,307] [    INFO] base.py:1846 - [cached since 86.92s ago] (100, '%planetary%', '%planetary%', 10, 0)
[2026-02-05 20:05:17,307] [ WARNING] knowledge_graph.py:613 - [2m2026-02-05T19:05:17.307817Z[0m [[33m[1mwarning  [0m] [1mFailed to initialize GraphRAG enhancements[0m [[0m[1m[34mbackend.services.knowledge_graph[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"KGGenExtractor.__init__() missing 1 required positional argument: 'config'"[0m
2026-02-05 20:05:17,309 INFO sqlalchemy.engine.Engine SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,309] [    INFO] base.py:1846 - SELECT chunks.id 
FROM chunks 
WHERE chunks.document_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,310 INFO sqlalchemy.engine.Engine [cached since 86.81s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
[2026-02-05 20:05:17,310] [    INFO] base.py:1846 - [cached since 86.81s ago] ('c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3', 5, 0)
2026-02-05 20:05:17,310 INFO sqlalchemy.engine.Engine SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
[2026-02-05 20:05:17,310] [    INFO] base.py:1846 - SELECT documents.organization_id, documents.file_hash, documents.filename, documents.original_filename, documents.file_path, documents.file_type, documents.file_size, documents.mime_type, documents.processing_status, documents.processing_mode, documents.storage_mode, documents.processing_error, documents.processed_at, documents.title, documents.description, documents.language, documents.page_count, documents.word_count, documents.tags, documents.enhanced_metadata, documents.source_path, documents.is_auto_indexed, documents.is_private, documents.image_analysis_status, documents.image_analysis_completed_at, documents.images_extracted_count, documents.images_analyzed_count, documents.image_analysis_error, documents.access_tier_id, documents.uploaded_by_id, documents.folder_id, documents.kg_extraction_status, documents.kg_extracted_at, documents.kg_entity_count, documents.kg_relation_count, documents.kg_chunks_processed, documents.id, documents.created_at, documents.updated_at 
FROM documents JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE access_tiers.level <= ? AND (lower(documents.title) LIKE lower(?) OR lower(documents.original_filename) LIKE lower(?))
 LIMIT ? OFFSET ?
2026-02-05 20:05:17,310 INFO sqlalchemy.engine.Engine [cached since 86.92s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
[2026-02-05 20:05:17,310] [    INFO] base.py:1846 - [cached since 86.92s ago] (100, '%boundaries%', '%boundaries%', 10, 0)
2026-02-05 20:05:17,311 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:17,311] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:17,311] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:17.311831Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:19,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:19,486] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:19,486 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,486] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,486 INFO sqlalchemy.engine.Engine [cached since 85.36s ago] ('%Planetary Boundaries%', 10, 0)
[2026-02-05 20:05:19,486] [    INFO] base.py:1846 - [cached since 85.36s ago] ('%Planetary Boundaries%', 10, 0)
2026-02-05 20:05:19,508 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,508] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,508 INFO sqlalchemy.engine.Engine [cached since 85.27s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:05:19,508] [    INFO] base.py:1846 - [cached since 85.27s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:05:19,509 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,509] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,509 INFO sqlalchemy.engine.Engine [cached since 85.27s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:05:19,509] [    INFO] base.py:1846 - [cached since 85.27s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:05:19,510 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:19,510] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:19,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:19,510] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:19,510 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,510] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,511 INFO sqlalchemy.engine.Engine [cached since 85.39s ago] ('%Earth%', 10, 0)
[2026-02-05 20:05:19,511] [    INFO] base.py:1846 - [cached since 85.39s ago] ('%Earth%', 10, 0)
2026-02-05 20:05:19,518 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,518] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,519 INFO sqlalchemy.engine.Engine [cached since 85.28s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
[2026-02-05 20:05:19,519] [    INFO] base.py:1846 - [cached since 85.28s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
2026-02-05 20:05:19,519 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,519] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,519 INFO sqlalchemy.engine.Engine [cached since 85.28s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
[2026-02-05 20:05:19,519] [    INFO] base.py:1846 - [cached since 85.28s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
2026-02-05 20:05:19,521 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,521] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,521 INFO sqlalchemy.engine.Engine [cached since 85.29s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
[2026-02-05 20:05:19,521] [    INFO] base.py:1846 - [cached since 85.29s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
2026-02-05 20:05:19,521 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,521] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,522 INFO sqlalchemy.engine.Engine [cached since 85.29s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
[2026-02-05 20:05:19,522] [    INFO] base.py:1846 - [cached since 85.29s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
2026-02-05 20:05:19,522 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,522] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,522 INFO sqlalchemy.engine.Engine [cached since 85.29s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
[2026-02-05 20:05:19,522] [    INFO] base.py:1846 - [cached since 85.29s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
2026-02-05 20:05:19,522 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:19,522] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:19,523] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:19.523316Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:19,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:19,671] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:19,671 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:19,671] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:19,671 INFO sqlalchemy.engine.Engine [cached since 85.28s ago] ('list types of planetary boundaries', 'list types of planetary boundaries', 'list types of planetary boundaries', '%list types of planetary boundaries%', '%list types of planetary boundaries%', 'list types of planetary boundaries', 1, 'list types of planetary boundaries', 2, 'list types of planetary boundaries', 3, 4, 20, 0)
[2026-02-05 20:05:19,671] [    INFO] base.py:1846 - [cached since 85.28s ago] ('list types of planetary boundaries', 'list types of planetary boundaries', 'list types of planetary boundaries', '%list types of planetary boundaries%', '%list types of planetary boundaries%', 'list types of planetary boundaries', 1, 'list types of planetary boundaries', 2, 'list types of planetary boundaries', 3, 4, 20, 0)
2026-02-05 20:05:19,808 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:19,808] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:19,808 INFO sqlalchemy.engine.Engine [cached since 85.09s ago] ()
[2026-02-05 20:05:19,808] [    INFO] base.py:1846 - [cached since 85.09s ago] ()
2026-02-05 20:05:20,159 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:20,159] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:20,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:20,160] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:20,160 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:20,160] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:20,160 INFO sqlalchemy.engine.Engine [cached since 185.6s ago] ('rag.graph_max_hops',)
[2026-02-05 20:05:20,160] [    INFO] base.py:1846 - [cached since 185.6s ago] ('rag.graph_max_hops',)
2026-02-05 20:05:20,161 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:20,161] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:20,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:20,161] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:20,162 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:20,162] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:20,162 INFO sqlalchemy.engine.Engine [cached since 85.77s ago] ('list types of planetary boundaries', 'list types of planetary boundaries', 'list types of planetary boundaries', '%list types of planetary boundaries%', '%list types of planetary boundaries%', 'list types of planetary boundaries', 1, 'list types of planetary boundaries', 2, 'list types of planetary boundaries', 3, 4, 5, 0)
[2026-02-05 20:05:20,162] [    INFO] base.py:1846 - [cached since 85.77s ago] ('list types of planetary boundaries', 'list types of planetary boundaries', 'list types of planetary boundaries', '%list types of planetary boundaries%', '%list types of planetary boundaries%', 'list types of planetary boundaries', 1, 'list types of planetary boundaries', 2, 'list types of planetary boundaries', 3, 4, 5, 0)
2026-02-05 20:05:20,234 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:20,234] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:20,234 INFO sqlalchemy.engine.Engine [cached since 85.52s ago] ()
[2026-02-05 20:05:20,234] [    INFO] base.py:1846 - [cached since 85.52s ago] ()
2026-02-05 20:05:20,573 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:20,573] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:21,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:21,831] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:21,831 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,831] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,831 INFO sqlalchemy.engine.Engine [cached since 87.71s ago] ('%Planetary boundaries%', 10, 0)
[2026-02-05 20:05:21,831] [    INFO] base.py:1846 - [cached since 87.71s ago] ('%Planetary boundaries%', 10, 0)
2026-02-05 20:05:21,837 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,837] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,837 INFO sqlalchemy.engine.Engine [cached since 87.6s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:05:21,837] [    INFO] base.py:1846 - [cached since 87.6s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:05:21,837 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,837] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,837 INFO sqlalchemy.engine.Engine [cached since 87.6s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:05:21,837] [    INFO] base.py:1846 - [cached since 87.6s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:05:21,837 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:21,837] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:21,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:21,838] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:21,838 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,838] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,838 INFO sqlalchemy.engine.Engine [cached since 87.71s ago] ('%Earth%', 10, 0)
[2026-02-05 20:05:21,838] [    INFO] base.py:1846 - [cached since 87.71s ago] ('%Earth%', 10, 0)
2026-02-05 20:05:21,843 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,843] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,843 INFO sqlalchemy.engine.Engine [cached since 87.61s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
[2026-02-05 20:05:21,843] [    INFO] base.py:1846 - [cached since 87.61s ago] ('a88bffb4-8b98-4ff6-b004-20083b7915a5', 20, 0)
2026-02-05 20:05:21,844 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,844] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,844 INFO sqlalchemy.engine.Engine [cached since 87.61s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
[2026-02-05 20:05:21,844] [    INFO] base.py:1846 - [cached since 87.61s ago] ('73053634-9019-40e7-b1fb-19107aa0bd14', 20, 0)
2026-02-05 20:05:21,844 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,844] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,844 INFO sqlalchemy.engine.Engine [cached since 87.61s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
[2026-02-05 20:05:21,844] [    INFO] base.py:1846 - [cached since 87.61s ago] ('99c20fd1-b57e-457d-b910-411933761a60', 20, 0)
2026-02-05 20:05:21,845 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,845] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,845 INFO sqlalchemy.engine.Engine [cached since 87.61s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
[2026-02-05 20:05:21,845] [    INFO] base.py:1846 - [cached since 87.61s ago] ('862ef9bc-2da8-4b12-a4bc-d7d6aa817cbd', 20, 0)
2026-02-05 20:05:21,845 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,845] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,845 INFO sqlalchemy.engine.Engine [cached since 87.61s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
[2026-02-05 20:05:21,845] [    INFO] base.py:1846 - [cached since 87.61s ago] ('6ff07619-2547-476d-a50e-353efe4a7e98', 20, 0)
2026-02-05 20:05:21,845 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:21,845] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:21,846] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:21.846101Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:21,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:21,945] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:21,945 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:21,945] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:21,945 INFO sqlalchemy.engine.Engine [cached since 87.56s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 20, 0)
[2026-02-05 20:05:21,945] [    INFO] base.py:1846 - [cached since 87.56s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 20, 0)
2026-02-05 20:05:22,058 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:22,058] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:22,059 INFO sqlalchemy.engine.Engine [cached since 87.34s ago] ()
[2026-02-05 20:05:22,059] [    INFO] base.py:1846 - [cached since 87.34s ago] ()
2026-02-05 20:05:22,398 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:22,398] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:22,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:22,399] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:22,399 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:22,399] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:22,399 INFO sqlalchemy.engine.Engine [cached since 187.8s ago] ('rag.graph_max_hops',)
[2026-02-05 20:05:22,399] [    INFO] base.py:1846 - [cached since 187.8s ago] ('rag.graph_max_hops',)
2026-02-05 20:05:22,399 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:22,399] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:22,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:22,401] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:22,401 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:22,401] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:22,401 INFO sqlalchemy.engine.Engine [cached since 88.01s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 5, 0)
[2026-02-05 20:05:22,401] [    INFO] base.py:1846 - [cached since 88.01s ago] ('list all of the planetary boundaries', 'list all of the planetary boundaries', 'list all of the planetary boundaries', '%list all of the planetary boundaries%', '%list all of the planetary boundaries%', 'list all of the planetary boundaries', 1, 'list all of the planetary boundaries', 2, 'list all of the planetary boundaries', 3, 4, 5, 0)
2026-02-05 20:05:22,476 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:22,476] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:22,476 INFO sqlalchemy.engine.Engine [cached since 87.76s ago] ()
[2026-02-05 20:05:22,476] [    INFO] base.py:1846 - [cached since 87.76s ago] ()
2026-02-05 20:05:22,813 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:22,813] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:23,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:23,917] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:23,917 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:23,917] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:23,917 INFO sqlalchemy.engine.Engine [cached since 89.79s ago] ('%boundaries%', 10, 0)
[2026-02-05 20:05:23,917] [    INFO] base.py:1846 - [cached since 89.79s ago] ('%boundaries%', 10, 0)
2026-02-05 20:05:23,923 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:23,923] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:23,923 INFO sqlalchemy.engine.Engine [cached since 89.69s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
[2026-02-05 20:05:23,923] [    INFO] base.py:1846 - [cached since 89.69s ago] ('f0533833-c236-4653-abb2-3508330c30cd', 20, 0)
2026-02-05 20:05:23,924 INFO sqlalchemy.engine.Engine SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:23,924] [    INFO] base.py:1846 - SELECT entity_mentions.chunk_id 
FROM entity_mentions 
WHERE entity_mentions.entity_id = ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:23,924 INFO sqlalchemy.engine.Engine [cached since 89.69s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
[2026-02-05 20:05:23,924] [    INFO] base.py:1846 - [cached since 89.69s ago] ('b122017b-0023-4454-9750-c4c6df484096', 20, 0)
2026-02-05 20:05:23,924 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:23,924] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:23,925 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:23,925] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:23,925 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
[2026-02-05 20:05:23,925] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE lower(entities.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 20:05:23,925 INFO sqlalchemy.engine.Engine [cached since 89.8s ago] ('%celestial bodies%', 10, 0)
[2026-02-05 20:05:23,925] [    INFO] base.py:1846 - [cached since 89.8s ago] ('%celestial bodies%', 10, 0)
2026-02-05 20:05:23,933 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:23,933] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:23,933] [ WARNING] vectorstore_local.py:1261 - [2m2026-02-05T19:05:23.933483Z[0m [[33m[1mwarning  [0m] [1mNo embedding provided for hybrid search, using keyword only[0m [[0m[1m[34mbackend.services.vectorstore_local[0m][0m [36maws_region[0m=[35mus-east-1[0m
2026-02-05 20:05:24,136 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:24,136] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:24,136 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:24,136] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:24,136 INFO sqlalchemy.engine.Engine [cached since 89.75s ago] ('boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', '%boundaries of celestial bodies in our solar system%', '%boundaries of celestial bodies in our solar system%', 'boundaries of celestial bodies in our solar system', 1, 'boundaries of celestial bodies in our solar system', 2, 'boundaries of celestial bodies in our solar system', 3, 4, 20, 0)
[2026-02-05 20:05:24,136] [    INFO] base.py:1846 - [cached since 89.75s ago] ('boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', '%boundaries of celestial bodies in our solar system%', '%boundaries of celestial bodies in our solar system%', 'boundaries of celestial bodies in our solar system', 1, 'boundaries of celestial bodies in our solar system', 2, 'boundaries of celestial bodies in our solar system', 3, 4, 20, 0)
2026-02-05 20:05:24,261 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:24,261] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:24,261 INFO sqlalchemy.engine.Engine [cached since 89.54s ago] ()
[2026-02-05 20:05:24,261] [    INFO] base.py:1846 - [cached since 89.54s ago] ()
2026-02-05 20:05:24,597 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:24,597] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:24,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:24,598] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:24,598 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:24,598] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:24,598 INFO sqlalchemy.engine.Engine [cached since 190s ago] ('rag.graph_max_hops',)
[2026-02-05 20:05:24,598] [    INFO] base.py:1846 - [cached since 190s ago] ('rag.graph_max_hops',)
2026-02-05 20:05:24,598 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:24,598] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:24,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:24,599] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:24,599 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:24,599] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:24,599 INFO sqlalchemy.engine.Engine [cached since 90.21s ago] ('boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', '%boundaries of celestial bodies in our solar system%', '%boundaries of celestial bodies in our solar system%', 'boundaries of celestial bodies in our solar system', 1, 'boundaries of celestial bodies in our solar system', 2, 'boundaries of celestial bodies in our solar system', 3, 4, 5, 0)
[2026-02-05 20:05:24,599] [    INFO] base.py:1846 - [cached since 90.21s ago] ('boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', 'boundaries of celestial bodies in our solar system', '%boundaries of celestial bodies in our solar system%', '%boundaries of celestial bodies in our solar system%', 'boundaries of celestial bodies in our solar system', 1, 'boundaries of celestial bodies in our solar system', 2, 'boundaries of celestial bodies in our solar system', 3, 4, 5, 0)
2026-02-05 20:05:24,679 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:24,679] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:24,679 INFO sqlalchemy.engine.Engine [cached since 89.96s ago] ()
[2026-02-05 20:05:24,679] [    INFO] base.py:1846 - [cached since 89.96s ago] ()
2026-02-05 20:05:25,011 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:25,011] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:26,649] [ WARNING] hybrid_retriever.py:547 - [2m2026-02-05T19:05:26.649298Z[0m [[33m[1mwarning  [0m] [1mHybrid retrieval timed out    [0m [[0m[1m[34mbackend.services.hybrid_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mtimeout[0m=[35m10.0[0m
2026-02-05 20:05:26,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:26,649] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:26,650 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:26,650] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:26,650 INFO sqlalchemy.engine.Engine [cached since 192.1s ago] ('rag.graph_max_hops',)
[2026-02-05 20:05:26,650] [    INFO] base.py:1846 - [cached since 192.1s ago] ('rag.graph_max_hops',)
2026-02-05 20:05:26,650 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:26,650] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:26,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:26,651] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:26,651 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:26,651] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:26,652 INFO sqlalchemy.engine.Engine [cached since 92.26s ago] ('planetary limits exploration definition', 'planetary limits exploration definition', 'planetary limits exploration definition', '%planetary limits exploration definition%', '%planetary limits exploration definition%', 'planetary limits exploration definition', 1, 'planetary limits exploration definition', 2, 'planetary limits exploration definition', 3, 4, 5, 0)
[2026-02-05 20:05:26,652] [    INFO] base.py:1846 - [cached since 92.26s ago] ('planetary limits exploration definition', 'planetary limits exploration definition', 'planetary limits exploration definition', '%planetary limits exploration definition%', '%planetary limits exploration definition%', 'planetary limits exploration definition', 1, 'planetary limits exploration definition', 2, 'planetary limits exploration definition', 3, 4, 5, 0)
2026-02-05 20:05:26,808 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:26,808] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:26,808 INFO sqlalchemy.engine.Engine [cached since 92.09s ago] ()
[2026-02-05 20:05:26,808] [    INFO] base.py:1846 - [cached since 92.09s ago] ()
[2026-02-05 20:05:26,809] [ WARNING] hybrid_retriever.py:547 - [2m2026-02-05T19:05:26.809579Z[0m [[33m[1mwarning  [0m] [1mHybrid retrieval timed out    [0m [[0m[1m[34mbackend.services.hybrid_retriever[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mtimeout[0m=[35m10.0[0m
2026-02-05 20:05:26,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:26,809] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:26,810 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
[2026-02-05 20:05:26,810] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:05:26,810 INFO sqlalchemy.engine.Engine [cached since 192.2s ago] ('rag.graph_max_hops',)
[2026-02-05 20:05:26,810] [    INFO] base.py:1846 - [cached since 192.2s ago] ('rag.graph_max_hops',)
2026-02-05 20:05:26,810 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:26,810] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:26,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:26,811] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:26,811 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:26,811] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.name_normalized = ? OR lower(entities.canonical_name) = ? OR lower(entities.canonical_name) = ? OR lower(entities.name_normalized) LIKE lower(?) OR lower(CAST(entities.aliases AS VARCHAR)) LIKE lower(?) ORDER BY CASE WHEN (entities.name_normalized = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? WHEN (lower(entities.canonical_name) = ?) THEN ? ELSE ? END, entities.mention_count DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:26,811 INFO sqlalchemy.engine.Engine [cached since 92.42s ago] ('list all of the planetary boundaries planetary boundaries earth', 'list all of the planetary boundaries planetary boundaries earth', 'list all of the planetary boundaries planetary boundaries earth', '%list all of the planetary boundaries planetary boundaries earth%', '%list all of the planetary boundaries Planetary boundaries Earth%', 'list all of the planetary boundaries planetary boundaries earth', 1, 'list all of the planetary boundaries planetary boundaries earth', 2, 'list all of the planetary boundaries planetary boundaries earth', 3, 4, 5, 0)
[2026-02-05 20:05:26,811] [    INFO] base.py:1846 - [cached since 92.42s ago] ('list all of the planetary boundaries planetary boundaries earth', 'list all of the planetary boundaries planetary boundaries earth', 'list all of the planetary boundaries planetary boundaries earth', '%list all of the planetary boundaries planetary boundaries earth%', '%list all of the planetary boundaries Planetary boundaries Earth%', 'list all of the planetary boundaries planetary boundaries earth', 1, 'list all of the planetary boundaries planetary boundaries earth', 2, 'list all of the planetary boundaries planetary boundaries earth', 3, 4, 5, 0)
2026-02-05 20:05:26,924 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
[2026-02-05 20:05:26,924] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.embedding IS NOT NULL
2026-02-05 20:05:26,925 INFO sqlalchemy.engine.Engine [cached since 92.21s ago] ()
[2026-02-05 20:05:26,925] [    INFO] base.py:1846 - [cached since 92.21s ago] ()
2026-02-05 20:05:27,245 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:27,245] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:27,576 INFO sqlalchemy.engine.Engine SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?) OR entity_relations.target_entity_id IN (?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:27,576] [    INFO] base.py:1846 - SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?) OR entity_relations.target_entity_id IN (?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:27,576 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'bdf1633f-b844-40d1-a3f8-61643d542748', 8, 0)
[2026-02-05 20:05:27,576] [    INFO] base.py:1846 - [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'bdf1633f-b844-40d1-a3f8-61643d542748', 8, 0)
2026-02-05 20:05:27,578 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?)
[2026-02-05 20:05:27,578] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?)
2026-02-05 20:05:27,578 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748',)
[2026-02-05 20:05:27,578] [    INFO] base.py:1846 - [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748',)
2026-02-05 20:05:27,579 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?)
[2026-02-05 20:05:27,579] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?)
2026-02-05 20:05:27,579 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:05:27,579] [    INFO] base.py:1846 - [cached since 54.07s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:05:27,581 INFO sqlalchemy.engine.Engine SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?, ?, ?, ?) OR entity_relations.target_entity_id IN (?, ?, ?, ?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:27,581] [    INFO] base.py:1846 - SELECT entity_relations.organization_id, entity_relations.source_entity_id, entity_relations.target_entity_id, entity_relations.relation_type, entity_relations.relation_label, entity_relations.description, entity_relations.confidence, entity_relations.weight, entity_relations.document_id, entity_relations.properties, entity_relations.created_at, entity_relations.id 
FROM entity_relations 
WHERE entity_relations.source_entity_id IN (?, ?, ?, ?) OR entity_relations.target_entity_id IN (?, ?, ?, ?) ORDER BY entity_relations.weight DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:27,581 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', 8, 0)
[2026-02-05 20:05:27,581] [    INFO] base.py:1846 - [cached since 54.07s ago] ('2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', 8, 0)
2026-02-05 20:05:27,582 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?)
[2026-02-05 20:05:27,582] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?)
2026-02-05 20:05:27,582 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:05:27,582] [    INFO] base.py:1846 - [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:05:27,583 INFO sqlalchemy.engine.Engine SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?)
[2026-02-05 20:05:27,583] [    INFO] base.py:1846 - SELECT entities.id AS entities_id, entities.organization_id AS entities_organization_id, entities.name AS entities_name, entities.name_normalized AS entities_name_normalized, entities.entity_type AS entities_entity_type, entities.description AS entities_description, entities.aliases AS entities_aliases, entities.embedding AS entities_embedding, entities.entity_language AS entities_entity_language, entities.canonical_name AS entities_canonical_name, entities.language_variants AS entities_language_variants, entities.properties AS entities_properties, entities.mention_count AS entities_mention_count, entities.min_access_tier_level AS entities_min_access_tier_level, entities.confidence AS entities_confidence, entities.extraction_method AS entities_extraction_method, entities.created_at AS entities_created_at, entities.updated_at AS entities_updated_at 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?)
2026-02-05 20:05:27,583 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
[2026-02-05 20:05:27,583] [    INFO] base.py:1846 - [cached since 54.07s ago] ('04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415')
2026-02-05 20:05:27,585 INFO sqlalchemy.engine.Engine SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?, ?)
[2026-02-05 20:05:27,585] [    INFO] base.py:1846 - SELECT entities.organization_id, entities.name, entities.name_normalized, entities.entity_type, entities.description, entities.aliases, entities.embedding, entities.entity_language, entities.canonical_name, entities.language_variants, entities.properties, entities.mention_count, entities.min_access_tier_level, entities.confidence, entities.extraction_method, entities.created_at, entities.updated_at, entities.id 
FROM entities 
WHERE entities.id IN (?, ?, ?, ?, ?, ?)
2026-02-05 20:05:27,585 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498')
[2026-02-05 20:05:27,585] [    INFO] base.py:1846 - [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', '8e963bae-aecd-4a58-bc49-44203b75a2cb', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498')
2026-02-05 20:05:27,587 INFO sqlalchemy.engine.Engine SELECT entity_mentions.entity_id, entity_mentions.document_id, entity_mentions.chunk_id, entity_mentions.context_snippet, entity_mentions.confidence, entity_mentions.page_number, entity_mentions.char_offset, entity_mentions.mention_language, entity_mentions.mention_script, entity_mentions.created_at, entity_mentions.id 
FROM entity_mentions JOIN chunks ON entity_mentions.chunk_id = chunks.id JOIN documents ON chunks.document_id = documents.id JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE entity_mentions.entity_id IN (?, ?, ?, ?, ?, ?) AND access_tiers.level <= ?
 LIMIT ? OFFSET ?
[2026-02-05 20:05:27,587] [    INFO] base.py:1846 - SELECT entity_mentions.entity_id, entity_mentions.document_id, entity_mentions.chunk_id, entity_mentions.context_snippet, entity_mentions.confidence, entity_mentions.page_number, entity_mentions.char_offset, entity_mentions.mention_language, entity_mentions.mention_script, entity_mentions.created_at, entity_mentions.id 
FROM entity_mentions JOIN chunks ON entity_mentions.chunk_id = chunks.id JOIN documents ON chunks.document_id = documents.id JOIN access_tiers ON documents.access_tier_id = access_tiers.id 
WHERE entity_mentions.entity_id IN (?, ?, ?, ?, ?, ?) AND access_tiers.level <= ?
 LIMIT ? OFFSET ?
2026-02-05 20:05:27,587 INFO sqlalchemy.engine.Engine [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', 100, 16, 0)
[2026-02-05 20:05:27,587] [    INFO] base.py:1846 - [cached since 54.07s ago] ('bdf1633f-b844-40d1-a3f8-61643d542748', '04c6ef5e-e2de-4bbb-87ca-99aabfda6498', '090bed4a-419b-4d2f-92b8-e0ab6d6a3e6e', '2ccaca64-e427-48e8-8701-f90dc00ac962', '8e963bae-aecd-4a58-bc49-44203b75a2cb', 'c45f98b2-9ee0-4c41-bb4c-53f65f1c6415', 100, 16, 0)
2026-02-05 20:05:27,588 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:27,588] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:27,593] [ WARNING] context_sufficiency.py:302 - [2m2026-02-05T19:05:27.593110Z[0m [[33m[1mwarning  [0m] [1mSemantic coverage calculation failed, using keyword only[0m [[0m[1m[34mbackend.services.context_sufficiency[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"'RayEmbeddingService' object has no attribute 'embed_query'"[0m
[2026-02-05 20:05:27,597] [   ERROR] generative_cache.py:472 - [2m2026-02-05T19:05:27.597556Z[0m [[31m[1merror    [0m] [1mFailed to initialize GenerativeCache[0m [[0m[1m[34mbackend.services.generative_cache[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
[2026-02-05 20:05:39,157] [ WARNING] rag.py:3033 - [2m2026-02-05T19:05:39.156799Z[0m [[33m[1mwarning  [0m] [1mFailed to cache response      [0m [[0m[1m[34mbackend.services.rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"name 'collection_name' is not defined"[0m
2026-02-05 20:05:39,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:39,163] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:39,165 INFO sqlalchemy.engine.Engine INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
[2026-02-05 20:05:39,165] [    INFO] base.py:1846 - INSERT INTO llm_usage_logs (provider_id, provider_type, model, operation_type, user_id, session_id, input_tokens, output_tokens, total_tokens, input_cost_usd, output_cost_usd, total_cost_usd, request_duration_ms, success, error_message, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, updated_at
2026-02-05 20:05:39,165 INFO sqlalchemy.engine.Engine [cached since 93.6s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 2022, 60, 2082, 0.0, 0.0, 0.0, 27372, 1, None, 'ed1b346c-e248-474b-a61b-ccc1e310a421')
[2026-02-05 20:05:39,165] [    INFO] base.py:1846 - [cached since 93.6s ago] ('ed7dabc4-20dd-4a41-a100-73c8ad054268', 'ollama', 'llama3.2:latest', 'rag', '00000000-0000-0000-0000-000000000001', 'd1cababb-480a-4b77-8099-fc893eba6364', 2022, 60, 2082, 0.0, 0.0, 0.0, 27372, 1, None, 'ed1b346c-e248-474b-a61b-ccc1e310a421')
2026-02-05 20:05:39,171 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:39,171] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:44,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:44,638] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:44,638 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:05:44,638] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:05:44,638 INFO sqlalchemy.engine.Engine [cached since 204.4s ago] ('QUEUED',)
[2026-02-05 20:05:44,638] [    INFO] base.py:1846 - [cached since 204.4s ago] ('QUEUED',)
2026-02-05 20:05:44,640 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:44,640] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:45,227] [ WARNING] self_rag.py:536 - [2m2026-02-05T19:05:45.227436Z[0m [[33m[1mwarning  [0m] [1mLLM claim verification failed [0m [[0m[1m[34mbackend.services.self_rag[0m][0m [36maws_region[0m=[35mus-east-1[0m [36mclaim[0m=[35m'The Planetary Boundaries refer to the thresholds t'[0m [36merror[0m=[35m"Expecting ',' delimiter: line 5 column 129 (char 205)"[0m
2026-02-05 20:05:48,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:48,998] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:48,998 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:05:48,998] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:05:48,998 INFO sqlalchemy.engine.Engine [cached since 92.46s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:05:48,998] [    INFO] base.py:1846 - [cached since 92.46s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:05:49,000 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:05:49,000] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:05:49,000 INFO sqlalchemy.engine.Engine [cached since 92.47s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:05:49,000] [    INFO] base.py:1846 - [cached since 92.47s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:05:49,001 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
[2026-02-05 20:05:49,001] [    INFO] base.py:1844 - INSERT INTO chat_messages (organization_id, role, content, source_document_ids, source_chunks, is_helpful, feedback, model_used, tokens_used, latency_ms, confidence_score, confidence_level, session_id, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at, id
2026-02-05 20:05:49,001 INFO sqlalchemy.engine.Engine [cached since 92.45s ago (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'list all of them', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', 'ac171b8e-6ce8-474e-87c3-559226eae228', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "c765d2d8-7f7e-444a-ae78-8d1 ... (8337 characters truncated) ... ute for Climate Impact Research (PIK); Member of the Leibniz Association, Telegraphenberg A 31,\\n14473 Potsdam, Germany; 2025", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8091083131730556, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', '1aca6e58-2ece-4f72-a618-3ae9122419b8')
[2026-02-05 20:05:49,001] [    INFO] base.py:1844 - [cached since 92.45s ago (insertmanyvalues) 1/1 (ordered)] (None, 'USER', 'list all of them', None, None, None, None, None, None, None, None, None, 'd1cababb-480a-4b77-8099-fc893eba6364', 'ac171b8e-6ce8-474e-87c3-559226eae228', None, 'ASSISTANT', 'The Planetary Boundaries refer to the thresholds that keep life on Earth within a safe operating zone or safe boundaries. If you pass over, or transg ... (1 characters truncated) ... ess, these boundaries, you increase the risk of losing stability, life support and nature’s ability to absorb shocks and damage.\n\nSources: Source 5', None, '[{"document_id": "c532dd3e-4f2f-43a6-9fb8-a21bf1d4b7b3", "document_name": "Planetary Health Check 2025.pdf", "chunk_id": "c765d2d8-7f7e-444a-ae78-8d1 ... (8337 characters truncated) ... ute for Climate Impact Research (PIK); Member of the Leibniz Association, Telegraphenberg A 31,\\n14473 Potsdam, Germany; 2025", "collection": null}]', None, None, 'llama3.2:latest', None, None, 0.8091083131730556, 'high', 'd1cababb-480a-4b77-8099-fc893eba6364', '1aca6e58-2ece-4f72-a618-3ae9122419b8')
2026-02-05 20:05:49,002 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:49,002] [    INFO] base.py:2716 - COMMIT
[2026-02-05 20:05:49,004] [   ERROR] mem0_memory.py:563 - [2m2026-02-05T19:05:49.004454Z[0m [[31m[1merror    [0m] [1mFailed to initialize memory service[0m [[0m[1m[34mbackend.services.mem0_memory[0m][0m [36maws_region[0m=[35mus-east-1[0m [36merror[0m=[35m"object RayEmbeddingService can't be used in 'await' expression"[0m
INFO:     127.0.0.1:50137 - "POST /api/v1/chat/completions HTTP/1.1" 200 OK
2026-02-05 20:05:49,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:49,017] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:49,017 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
[2026-02-05 20:05:49,017] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.id = ?
2026-02-05 20:05:49,018 INFO sqlalchemy.engine.Engine [cached since 92.37s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:05:49,018] [    INFO] base.py:1846 - [cached since 92.37s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:05:49,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:49,019] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:49,019 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
[2026-02-05 20:05:49,019] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-02-05 20:05:49,020 INFO sqlalchemy.engine.Engine [cached since 168.7s ago] ('00000000-0000-0000-0000-000000000001',)
[2026-02-05 20:05:49,020] [    INFO] base.py:1846 - [cached since 168.7s ago] ('00000000-0000-0000-0000-000000000001',)
2026-02-05 20:05:49,020 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:49,020] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:49,020 INFO sqlalchemy.engine.Engine SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
[2026-02-05 20:05:49,020] [    INFO] base.py:1846 - SELECT chat_session_llm_overrides.session_id, chat_session_llm_overrides.provider_id, chat_session_llm_overrides.model_override, chat_session_llm_overrides.temperature_override, chat_session_llm_overrides.temperature_manual_override, chat_session_llm_overrides.id, chat_session_llm_overrides.created_at, chat_session_llm_overrides.updated_at 
FROM chat_session_llm_overrides 
WHERE chat_session_llm_overrides.session_id = ?
2026-02-05 20:05:49,021 INFO sqlalchemy.engine.Engine [cached since 121.4s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:05:49,021] [    INFO] base.py:1846 - [cached since 121.4s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:05:49,023 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
[2026-02-05 20:05:49,023] [    INFO] base.py:1846 - SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:05:49,023 INFO sqlalchemy.engine.Engine [cached since 215.6s ago] ('admin@example.com',)
[2026-02-05 20:05:49,023] [    INFO] base.py:1846 - [cached since 215.6s ago] ('admin@example.com',)
2026-02-05 20:05:49,024 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:49,024] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:49,024 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
[2026-02-05 20:05:49,024] [    INFO] base.py:1846 - SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.organization_id AS chat_messages_organization_id, chat_messages.role AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.source_document_ids AS chat_messages_source_document_ids, chat_messages.source_chunks AS chat_messages_source_chunks, chat_messages.is_helpful AS chat_messages_is_helpful, chat_messages.feedback AS chat_messages_feedback, chat_messages.model_used AS chat_messages_model_used, chat_messages.tokens_used AS chat_messages_tokens_used, chat_messages.latency_ms AS chat_messages_latency_ms, chat_messages.confidence_score AS chat_messages_confidence_score, chat_messages.confidence_level AS chat_messages_confidence_level, chat_messages.created_at AS chat_messages_created_at, chat_messages.id AS chat_messages_id 
FROM chat_messages 
WHERE chat_messages.session_id IN (?) ORDER BY chat_messages.created_at
2026-02-05 20:05:49,025 INFO sqlalchemy.engine.Engine [cached since 92.37s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
[2026-02-05 20:05:49,025] [    INFO] base.py:1846 - [cached since 92.37s ago] ('d1cababb-480a-4b77-8099-fc893eba6364',)
2026-02-05 20:05:49,025 INFO sqlalchemy.engine.Engine SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
[2026-02-05 20:05:49,025] [    INFO] base.py:1846 - SELECT count(chat_sessions.id) AS count_1 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1
2026-02-05 20:05:49,025 INFO sqlalchemy.engine.Engine [cached since 168.7s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
[2026-02-05 20:05:49,025] [    INFO] base.py:1846 - [cached since 168.7s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc',)
2026-02-05 20:05:49,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:05:49,026] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:05:49,026 INFO sqlalchemy.engine.Engine SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
[2026-02-05 20:05:49,026] [    INFO] base.py:1846 - SELECT llm_operation_configs.operation_type, llm_operation_configs.provider_id, llm_operation_configs.model_override, llm_operation_configs.temperature_override, llm_operation_configs.max_tokens_override, llm_operation_configs.fallback_provider_id, llm_operation_configs.id, llm_operation_configs.created_at, llm_operation_configs.updated_at 
FROM llm_operation_configs 
WHERE llm_operation_configs.operation_type = ?
2026-02-05 20:05:49,026 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] ('chat',)
[2026-02-05 20:05:49,026] [    INFO] base.py:1846 - [cached since 129.1s ago] ('chat',)
2026-02-05 20:05:49,027 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:49,027] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:05:49,028 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:49,028] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:50137 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364 HTTP/1.1" 200 OK
2026-02-05 20:05:49,029 INFO sqlalchemy.engine.Engine SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
[2026-02-05 20:05:49,029] [    INFO] base.py:1846 - SELECT chat_sessions.organization_id, chat_sessions.title, chat_sessions.is_active, chat_sessions.user_id, chat_sessions.id, chat_sessions.created_at, chat_sessions.updated_at 
FROM chat_sessions 
WHERE chat_sessions.user_id = ? AND chat_sessions.is_active = 1 ORDER BY chat_sessions.updated_at DESC
 LIMIT ? OFFSET ?
2026-02-05 20:05:49,029 INFO sqlalchemy.engine.Engine [cached since 168.7s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
[2026-02-05 20:05:49,029] [    INFO] base.py:1846 - [cached since 168.7s ago] ('8f15d9b8-e6d7-4ff0-969a-2d143842a2cc', 20, 0)
INFO:     127.0.0.1:50368 - "GET /api/v1/chat/sessions/d1cababb-480a-4b77-8099-fc893eba6364/llm HTTP/1.1" 200 OK
2026-02-05 20:05:49,031 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
[2026-02-05 20:05:49,031] [    INFO] base.py:1846 - SELECT chat_messages.session_id, count(chat_messages.id) AS count 
FROM chat_messages 
WHERE chat_messages.session_id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) GROUP BY chat_messages.session_id
2026-02-05 20:05:49,031 INFO sqlalchemy.engine.Engine [cached since 168.7s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
[2026-02-05 20:05:49,031] [    INFO] base.py:1846 - [cached since 168.7s ago] ('d1cababb-480a-4b77-8099-fc893eba6364', '4f8cea4f-7edf-49fb-8c7a-e2e03a4b047b', 'd00b1c49-7c98-4efa-b5ab-c08a9bc0c993', '55555555-5555-5555-5555-555555555555', '509c5f05-773e-4d57-a843-1449ea469a7f', '221a41ee-b666-4251-a565-8386e82be30b', '6fdaefda-871a-46b1-8ac0-4b8f15408d8e', 'd339406e-d4a6-43a2-93fa-88e3b28167da', 'e6febc9e-8d00-41f3-8592-98a650ab0882', '213c99ab-ed58-4949-b0d9-b83515e1e031', 'f06398ef-4bb5-44b5-aac0-dc2452d009df', 'bb9a6d1c-b180-4342-abb8-4cb68cc7b8fd', 'f07cd5fd-a469-4d29-b1e2-bfa942e7e51c', 'b390f3e1-4575-48ce-9ec4-6589c9f729e9', 'a292182b-592e-4615-a9fe-128d0337a730', '3a0cdaff-10e9-4a6c-8c32-fc4435f067ff', 'c4ff011c-7517-4e7c-bf86-99be42b0a91a', 'd2526060-ed6f-4992-9130-c269729384a9', '983de741-c53c-48ef-960e-b3ade6f65082', '93bb05fd-c98a-447b-8552-3e92b9ed4423')
2026-02-05 20:05:49,035 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:05:49,035] [    INFO] base.py:2716 - COMMIT
INFO:     127.0.0.1:50367 - "GET /api/v1/chat/sessions HTTP/1.1" 200 OK
2026-02-05 20:06:14,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:06:14,643] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:06:14,644 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:06:14,644] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:06:14,645 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('QUEUED',)
[2026-02-05 20:06:14,645] [    INFO] base.py:1846 - [cached since 234.4s ago] ('QUEUED',)
2026-02-05 20:06:14,646 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:06:14,646] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:06:44,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:06:44,648] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:06:44,649 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:06:44,649] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:06:44,649 INFO sqlalchemy.engine.Engine [cached since 264.4s ago] ('QUEUED',)
[2026-02-05 20:06:44,649] [    INFO] base.py:1846 - [cached since 264.4s ago] ('QUEUED',)
2026-02-05 20:06:44,651 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:06:44,651] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:07:14,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:07:14,657] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:07:14,659 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:07:14,659] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:07:14,659 INFO sqlalchemy.engine.Engine [cached since 294.4s ago] ('QUEUED',)
[2026-02-05 20:07:14,659] [    INFO] base.py:1846 - [cached since 294.4s ago] ('QUEUED',)
2026-02-05 20:07:14,662 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:07:14,662] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:07:44,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:07:44,665] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:07:44,665 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:07:44,665] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:07:44,668 INFO sqlalchemy.engine.Engine [cached since 324.4s ago] ('QUEUED',)
[2026-02-05 20:07:44,668] [    INFO] base.py:1846 - [cached since 324.4s ago] ('QUEUED',)
2026-02-05 20:07:44,669 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:07:44,669] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:08:14,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:08:14,675] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:08:14,676 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:08:14,676] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:08:14,676 INFO sqlalchemy.engine.Engine [cached since 354.4s ago] ('QUEUED',)
[2026-02-05 20:08:14,676] [    INFO] base.py:1846 - [cached since 354.4s ago] ('QUEUED',)
2026-02-05 20:08:14,679 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:08:14,679] [    INFO] base.py:2716 - COMMIT
WARNING:  WatchFiles detected changes in 'backend/services/rag.py'. Reloading...
WARNING:  WatchFiles detected changes in 'backend/services/rag.py'. Reloading...
2026-02-05 20:08:53 [info     ] Running in LOCAL_MODE - using SQLite at sqlite:////Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/data/aidocindexer.db
2026-02-05 20:08:54 [info     ] LLMGraphTransformer not available - using standard extraction
2026-02-05 20:08:55 [info     ] Service registry initialized
[2m2026-02-05T19:08:56.312665Z[0m [[33m[1mwarning  [0m] [1mDEBUG mode: Mock users enabled. Do not use in production![0m [[0m[1m[34mbackend.api.routes.auth[0m][0m [36maws_region[0m=[35mus-east-1[0m
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/api/routes/crawler.py:42: UserWarning: Field name "schema" in "CrawlWithExtractionRequest" shadows an attribute in parent "BaseModel"
  class CrawlWithExtractionRequest(BaseModel):
INFO:     Started server process [81926]
INFO:     Waiting for application startup.
2026-02-05 20:09:05,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:05,615 INFO sqlalchemy.engine.Engine SELECT 1
2026-02-05 20:09:05,615 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2026-02-05 20:09:05,615 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:05,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:05,616 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("access_tiers")
2026-02-05 20:09:05,616 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,622 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("organizations")
2026-02-05 20:09:05,622 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,622 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("organization_members")
2026-02-05 20:09:05,622 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,622 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("documents")
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chunks")
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("scraped_content")
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_sessions")
2026-02-05 20:09:05,623 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_messages")
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_feedback")
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_log")
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("processing_queue")
2026-02-05 20:09:05,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("upload_jobs")
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("system_settings")
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_providers")
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("database_connections")
2026-02-05 20:09:05,625 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_operation_configs")
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chat_session_llm_overrides")
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("llm_usage_logs")
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("rate_limit_configs")
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user_cost_limits")
2026-02-05 20:09:05,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("cost_alerts")
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("provider_health_logs")
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("provider_health_cache")
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("response_cache")
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("cache_settings")
2026-02-05 20:09:05,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("prompt_templates")
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skills")
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skill_executions")
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("reports")
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("research_results")
2026-02-05 20:09:05,628 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("mood_boards")
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_definitions")
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_prompt_versions")
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_trajectories")
2026-02-05 20:09:05,629 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("agent_execution_plans")
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("prompt_optimization_jobs")
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dspy_training_examples")
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dspy_optimization_jobs")
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("execution_mode_preferences")
2026-02-05 20:09:05,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user_preferences")
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entities")
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entity_mentions")
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("entity_relations")
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("kg_extraction_jobs")
2026-02-05 20:09:05,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("ocr_metrics")
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("folders")
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("folder_permissions")
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("generation_templates")
2026-02-05 20:09:05,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflows")
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_nodes")
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_edges")
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_executions")
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("workflow_node_executions")
2026-02-05 20:09:05,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audio_overviews")
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bot_connections")
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connector_instances")
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("synced_resources")
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("budgets")
2026-02-05 20:09:05,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("virtual_api_keys")
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("generated_images")
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watched_directories")
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("file_watcher_events")
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("file_watcher_config")
2026-02-05 20:09:05,635 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("external_database_connections")
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("database_query_history")
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("text_to_sql_examples")
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("analyzed_images")
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("link_groups")
2026-02-05 20:09:05,636 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,637 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("saved_links")
2026-02-05 20:09:05,637 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,637 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("scraped_content_history")
2026-02-05 20:09:05,637 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 20:09:05,637 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:05,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:05,710 INFO sqlalchemy.engine.Engine SELECT agent_definitions.agent_type 
FROM agent_definitions
2026-02-05 20:09:05,710 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ()
2026-02-05 20:09:05,711 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:05,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:05,715 INFO sqlalchemy.engine.Engine SELECT access_tiers.name 
FROM access_tiers
2026-02-05 20:09:05,715 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2026-02-05 20:09:05,715 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:05,716 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:05,716 INFO sqlalchemy.engine.Engine SELECT access_tiers.name, access_tiers.level, access_tiers.description, access_tiers.color, access_tiers.id, access_tiers.created_at, access_tiers.updated_at 
FROM access_tiers 
WHERE access_tiers.name = ?
2026-02-05 20:09:05,716 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('admin',)
2026-02-05 20:09:05,717 INFO sqlalchemy.engine.Engine SELECT users.email, users.password_hash, users.name, users.is_active, users.last_login_at, users.is_superadmin, users.current_organization_id, users.use_folder_permissions_only, users.access_tier_id, users.created_by_id, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = ?
2026-02-05 20:09:05,717 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('admin@example.com',)
2026-02-05 20:09:05,718 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,380 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status != ? AND upload_jobs.file_hash IN (SELECT documents.file_hash 
FROM documents 
WHERE documents.processing_status = ?)
2026-02-05 20:09:06,380 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('COMPLETED', 'COMPLETED')
2026-02-05 20:09:06,385 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status IN (?, ?, ?, ?, ?) AND upload_jobs.updated_at < ?
2026-02-05 20:09:06,385 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('VALIDATING', 'EXTRACTING', 'CHUNKING', 'EMBEDDING', 'INDEXING', '2026-02-05 19:04:06.385272')
2026-02-05 20:09:06,386 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,392 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,392 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('processing.ray_enabled',)
2026-02-05 20:09:06,393 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,393 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,393 INFO sqlalchemy.engine.Engine [cached since 0.001232s ago] ('processing.ray_address',)
2026-02-05 20:09:06,393 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine [cached since 0.001871s ago] ('processing.ray_num_cpus',)
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,394 INFO sqlalchemy.engine.Engine [cached since 0.002531s ago] ('processing.ray_num_gpus',)
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine [cached since 0.003139s ago] ('processing.ray_memory_limit_gb',)
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:06,395 INFO sqlalchemy.engine.Engine [cached since 0.003716s ago] ('processing.ray_num_workers',)
2026-02-05 20:09:06,396 INFO sqlalchemy.engine.Engine COMMIT
SIGTERM handler is not set because current thread is not the main thread.
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/.venv/lib/python3.11/site-packages/ray/_private/worker.py:2062: FutureWarning: Tip: In future versions of Ray, Ray will no longer override accelerator visible devices env var if num_gpus=0 or num_gpus=None (default). To enable this behavior and turn off this error message, set RAY_ACCEL_ENV_VAR_OVERRIDE_ON_ZERO=0
  warnings.warn(
2026-02-05 20:09:12,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,218 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,218 INFO sqlalchemy.engine.Engine [cached since 5.826s ago] ('queue.celery_enabled',)
2026-02-05 20:09:12,219 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,220 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:09:12,220 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('QUEUED',)
2026-02-05 20:09:12,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,221 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,221 INFO sqlalchemy.engine.Engine [cached since 5.829s ago] ('queue.celery_enabled',)
2026-02-05 20:09:12,223 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,223 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,223 INFO sqlalchemy.engine.Engine [cached since 5.832s ago] ('queue.redis_url',)
2026-02-05 20:09:12,224 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,224 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,224 INFO sqlalchemy.engine.Engine [cached since 5.832s ago] ('queue.celery_enabled',)
2026-02-05 20:09:12,224 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,225 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,225 INFO sqlalchemy.engine.Engine [cached since 5.833s ago] ('queue.redis_url',)
2026-02-05 20:09:12,225 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,226 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:12,232 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:12,232 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings 
WHERE system_settings."key" = ?
2026-02-05 20:09:12,232 INFO sqlalchemy.engine.Engine [cached since 5.841s ago] ('queue.max_workers',)
2026-02-05 20:09:12,233 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:14,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:14,386 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:09:14,386 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ()
2026-02-05 20:09:14,393 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 20:09:14,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 20:09:14,393 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:09:14,394 INFO sqlalchemy.engine.Engine [cached since 0.00737s ago] ()
2026-02-05 20:09:14,397 INFO sqlalchemy.engine.Engine COMMIT
[33mChecking connectivity to the model hosters, this may take a while. To bypass this check, set `DISABLE_MODEL_SOURCE_CHECK` to `True`.[0m
/Users/ankit/ankit_private/programs/mandala/AIDocumentIndexer/backend/.venv/lib/python3.11/site-packages/paddle/utils/cpp_extension/extension_utils.py:718: UserWarning: No ccache found. Please be aware that recompiling all source files may be required. You can download and install ccache from: https://github.com/ccache/ccache/blob/master/doc/INSTALL.md
  warnings.warn(warning_message)
[32mCreating model: ('PP-LCNet_x1_0_textline_ori', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-LCNet_x1_0_textline_ori`.[0m
[32mCreating model: ('PP-OCRv5_server_det', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-OCRv5_server_det`.[0m
[32mCreating model: ('en_PP-OCRv5_mobile_rec', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/en_PP-OCRv5_mobile_rec`.[0m
[32mCreating model: ('PP-LCNet_x1_0_textline_ori', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-LCNet_x1_0_textline_ori`.[0m
[32mCreating model: ('PP-OCRv5_server_det', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/PP-OCRv5_server_det`.[0m
[32mCreating model: ('latin_PP-OCRv5_mobile_rec', None)[0m
[32mModel files already exist. Using cached files. To redownload, please delete the directory manually: `/Users/ankit/.paddlex/official_models/latin_PP-OCRv5_mobile_rec`.[0m
2026-02-05 20:09:28,645 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:09:28,645] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:09:28,646 INFO sqlalchemy.engine.Engine SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
[2026-02-05 20:09:28,646] [    INFO] base.py:1846 - SELECT system_settings."key", system_settings.value, system_settings.category, system_settings.description, system_settings.value_type, system_settings.id, system_settings.created_at, system_settings.updated_at 
FROM system_settings
2026-02-05 20:09:28,646 INFO sqlalchemy.engine.Engine [cached since 14.26s ago] ()
[2026-02-05 20:09:28,646] [    INFO] base.py:1846 - [cached since 14.26s ago] ()
2026-02-05 20:09:28,651 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:09:28,651] [    INFO] base.py:2716 - COMMIT
INFO:     Application startup complete.
2026-02-05 20:09:36,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:09:36,397] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:09:36,398 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:09:36,398] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:09:36,398 INFO sqlalchemy.engine.Engine [cached since 24.18s ago] ('QUEUED',)
[2026-02-05 20:09:36,398] [    INFO] base.py:1846 - [cached since 24.18s ago] ('QUEUED',)
2026-02-05 20:09:36,400 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:09:36,400] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:10:06,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:10:06,404] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:10:06,407 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:10:06,407] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:10:06,407 INFO sqlalchemy.engine.Engine [cached since 54.19s ago] ('QUEUED',)
[2026-02-05 20:10:06,407] [    INFO] base.py:1846 - [cached since 54.19s ago] ('QUEUED',)
2026-02-05 20:10:06,409 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:10:06,409] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:10:36,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:10:36,413] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:10:36,415 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:10:36,415] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:10:36,415 INFO sqlalchemy.engine.Engine [cached since 84.19s ago] ('QUEUED',)
[2026-02-05 20:10:36,415] [    INFO] base.py:1846 - [cached since 84.19s ago] ('QUEUED',)
2026-02-05 20:10:36,417 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:10:36,417] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:11:06,421 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:11:06,421] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:11:06,425 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:11:06,425] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:11:06,425 INFO sqlalchemy.engine.Engine [cached since 114.2s ago] ('QUEUED',)
[2026-02-05 20:11:06,425] [    INFO] base.py:1846 - [cached since 114.2s ago] ('QUEUED',)
2026-02-05 20:11:06,427 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:11:06,427] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:11:36,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:11:36,433] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:11:36,445 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:11:36,445] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:11:36,445 INFO sqlalchemy.engine.Engine [cached since 144.2s ago] ('QUEUED',)
[2026-02-05 20:11:36,445] [    INFO] base.py:1846 - [cached since 144.2s ago] ('QUEUED',)
2026-02-05 20:11:36,452 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:11:36,452] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:12:06,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:12:06,454] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:12:06,455 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:12:06,455] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:12:06,455 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] ('QUEUED',)
[2026-02-05 20:12:06,455] [    INFO] base.py:1846 - [cached since 174.2s ago] ('QUEUED',)
2026-02-05 20:12:06,455 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:12:06,455] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:12:36,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:12:36,456] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:12:36,457 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:12:36,457] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:12:36,457 INFO sqlalchemy.engine.Engine [cached since 204.2s ago] ('QUEUED',)
[2026-02-05 20:12:36,457] [    INFO] base.py:1846 - [cached since 204.2s ago] ('QUEUED',)
2026-02-05 20:12:36,458 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:12:36,458] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:13:06,460 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:13:06,460] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:13:06,461 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:13:06,461] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:13:06,461 INFO sqlalchemy.engine.Engine [cached since 234.2s ago] ('QUEUED',)
[2026-02-05 20:13:06,461] [    INFO] base.py:1846 - [cached since 234.2s ago] ('QUEUED',)
2026-02-05 20:13:06,461 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:13:06,461] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:13:36,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:13:36,471] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:13:36,474 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:13:36,474] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:13:36,474 INFO sqlalchemy.engine.Engine [cached since 264.3s ago] ('QUEUED',)
[2026-02-05 20:13:36,474] [    INFO] base.py:1846 - [cached since 264.3s ago] ('QUEUED',)
2026-02-05 20:13:36,477 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:13:36,477] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:14:06,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:14:06,480] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:14:06,481 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:14:06,481] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:14:06,481 INFO sqlalchemy.engine.Engine [cached since 294.3s ago] ('QUEUED',)
[2026-02-05 20:14:06,481] [    INFO] base.py:1846 - [cached since 294.3s ago] ('QUEUED',)
2026-02-05 20:14:06,483 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:14:06,483] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:14:36,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:14:36,485] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:14:36,485 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:14:36,485] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:14:36,485 INFO sqlalchemy.engine.Engine [cached since 324.3s ago] ('QUEUED',)
[2026-02-05 20:14:36,485] [    INFO] base.py:1846 - [cached since 324.3s ago] ('QUEUED',)
2026-02-05 20:14:36,486 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:14:36,486] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:15:06,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:15:06,490] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:15:06,492 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:15:06,492] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:15:06,492 INFO sqlalchemy.engine.Engine [cached since 354.3s ago] ('QUEUED',)
[2026-02-05 20:15:06,492] [    INFO] base.py:1846 - [cached since 354.3s ago] ('QUEUED',)
2026-02-05 20:15:06,494 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:15:06,494] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:15:36,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:15:36,499] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:15:36,501 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:15:36,501] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:15:36,501 INFO sqlalchemy.engine.Engine [cached since 384.3s ago] ('QUEUED',)
[2026-02-05 20:15:36,501] [    INFO] base.py:1846 - [cached since 384.3s ago] ('QUEUED',)
2026-02-05 20:15:36,503 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:15:36,503] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:16:06,506 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:16:06,506] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:16:06,509 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:16:06,509] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:16:06,510 INFO sqlalchemy.engine.Engine [cached since 414.3s ago] ('QUEUED',)
[2026-02-05 20:16:06,510] [    INFO] base.py:1846 - [cached since 414.3s ago] ('QUEUED',)
2026-02-05 20:16:06,512 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:16:06,512] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:16:36,515 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:16:36,515] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:16:36,516 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:16:36,516] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:16:36,516 INFO sqlalchemy.engine.Engine [cached since 444.3s ago] ('QUEUED',)
[2026-02-05 20:16:36,516] [    INFO] base.py:1846 - [cached since 444.3s ago] ('QUEUED',)
2026-02-05 20:16:36,517 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:16:36,517] [    INFO] base.py:2716 - COMMIT
2026-02-05 20:17:06,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
[2026-02-05 20:17:06,519] [    INFO] base.py:2710 - BEGIN (implicit)
2026-02-05 20:17:06,520 INFO sqlalchemy.engine.Engine SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
[2026-02-05 20:17:06,520] [    INFO] base.py:1846 - SELECT upload_jobs.filename, upload_jobs.file_path, upload_jobs.file_hash, upload_jobs.file_size, upload_jobs.status, upload_jobs.progress, upload_jobs.current_step, upload_jobs.error_message, upload_jobs.collection, upload_jobs.access_tier, upload_jobs.enable_ocr, upload_jobs.enable_image_analysis, upload_jobs.auto_generate_tags, upload_jobs.chunk_count, upload_jobs.word_count, upload_jobs.document_id, upload_jobs.id, upload_jobs.created_at, upload_jobs.updated_at 
FROM upload_jobs 
WHERE upload_jobs.status = ?
2026-02-05 20:17:06,520 INFO sqlalchemy.engine.Engine [cached since 474.3s ago] ('QUEUED',)
[2026-02-05 20:17:06,520] [    INFO] base.py:1846 - [cached since 474.3s ago] ('QUEUED',)
2026-02-05 20:17:06,521 INFO sqlalchemy.engine.Engine COMMIT
[2026-02-05 20:17:06,521] [    INFO] base.py:2716 - COMMIT
